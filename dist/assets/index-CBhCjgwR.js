import{d as x,o as w,q as a,n as t,f as i,y as c,r as d,F as f,t as u,D as g,l as o,k as b,p as k,x as h,O as C,E as B}from"./vue-vendor-2ZNhN7Rr.js";import{f as j}from"./home-Dqm-mZJS.js";import{C as D}from"./chevron-left-CUcGB0gT.js";import{S}from"./star-YSIvaru9.js";import"./index-BBQ2rUtM.js";import"./utils-vendor-CbLx3nH2.js";const $={class:"flex min-h-screen justify-center bg-[#eef3f8]"},z={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},E={class:"sticky top-0 z-40 bg-gradient-to-r from-red-600 to-red-500"},F={class:"flex h-12 items-center justify-between px-3"},L={class:"px-3 pb-20 pt-3"},N={class:"space-y-3"},V={key:1,class:"flex flex-col items-center justify-center py-16 text-gray-400"},q={key:0,class:"relative overflow-hidden"},A=["src","alt"],M={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3"},O={class:"text-white font-bold text-sm truncate"},R={key:1,class:"p-4"},G={class:"font-bold text-gray-900"},U=x({__name:"index",setup(H){const m=g(),n=d([]),r=d(!0),p=()=>{m.back()},v=async()=>{try{r.value=!0;const{code:l,data:e}=await j();l===200&&e&&(n.value=e)}catch(l){console.error("获取活动列表失败:",l)}finally{r.value=!1}};return w(()=>{v()}),(l,e)=>{const _=B("router-link");return o(),a("div",$,[t("div",z,[t("header",E,[t("div",F,[t("button",{onClick:p,class:"flex items-center text-white"},[i(c(D),{class:"h-5 w-5"})]),e[0]||(e[0]=t("span",{class:"text-white font-bold"},"近期活动",-1)),e[1]||(e[1]=t("div",{class:"w-5"},null,-1))])]),t("main",L,[t("section",N,[r.value?(o(),a(f,{key:0},u(3,s=>t("div",{key:`skeleton-${s}`,class:"bg-white rounded-xl shadow-sm overflow-hidden"},[...e[2]||(e[2]=[t("div",{class:"w-full aspect-[2/1] bg-gray-200 animate-pulse"},null,-1)])])),64)):n.value.length===0?(o(),a("div",V,[i(c(S),{class:"h-16 w-16 mb-4 text-gray-300"}),e[3]||(e[3]=t("p",{class:"text-sm"},"暂无活动",-1))])):(o(!0),a(f,{key:2},u(n.value,(s,y)=>(o(),b(_,{key:s.id,to:`/index/activities/${s.id}`,class:"block w-full bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",style:C({animationDelay:`${y*80}ms`})},{default:k(()=>[s.pic?(o(),a("div",q,[t("img",{src:s.pic,alt:s.title,class:"w-full object-cover transition-transform duration-500 hover:scale-110"},null,8,A),t("div",M,[t("h3",O,h(s.title),1)])])):(o(),a("div",R,[t("h3",G,h(s.title),1)]))]),_:2},1032,["to","style"]))),128))])])])])}}});export{U as default};
