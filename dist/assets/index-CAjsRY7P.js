import{d as Ot,q as N,u as ut,n as S,x as tt,y as U,l as M,f as ct,D as fe,o as de,s as ne,P as Oe,w as yt,i as oe,C as pt,F as bt,t as wt,r as $,b as De,k as mt,c as Me,N as Ce,m as se,p as Ft,G as Ae,E as Ne,v as Pe,O as re,M as Fe}from"./vue-vendor-2ZNhN7Rr.js";import{c as je,a as $t,_ as me,u as ze,L as jt}from"./index-CIZoSaJ3.js";import{g as Be,i as $e,a as Re,b as Ve,c as He,d as Ge}from"./home-BizX8wYH.js";import{u as pe}from"./useLocalized-Dnun1-1e.js";import{_ as Ue}from"./login-logo-DOFsqlSQ.js";import{B as ge}from"./bell-eEIIDCFu.js";import{M as qe}from"./message-circle-mwYy_fid.js";import{X as ie}from"./x-D3KYmzfh.js";import{S as Ke}from"./star-COStt0uj.js";import{G as Qe}from"./gift-DzS4TQuG.js";import{U as Xe}from"./users-round-BXc7jJW6.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=je("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),We={class:"flex flex-col items-center gap-3"},Ye={class:"relative"},Ze={class:"text-sm text-gray-500 animate-pulse"},tn=Ot({__name:"PageLoading",props:{size:{default:"md"},text:{},fullScreen:{type:Boolean,default:!1}},setup(t){const{t:n}=$t(),e={sm:"h-5 w-5 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"};return(i,a)=>(M(),N("div",{class:ut(["flex items-center justify-center",t.fullScreen?"fixed inset-0 bg-white/80 backdrop-blur-sm z-50":"h-40"])},[S("div",We,[S("div",Ye,[S("div",{class:ut(["rounded-full border-gray-200 animate-pulse",e[t.size]])},null,2),S("div",{class:ut(["absolute inset-0 rounded-full border-transparent border-t-red-500 border-r-red-500/50 spin-smooth",e[t.size]])},null,2),S("div",{class:ut(["absolute inset-0 rounded-full border-transparent border-b-orange-400/30 spin-smooth",e[t.size]]),style:{"animation-duration":"1.5s","animation-direction":"reverse"}},null,2)]),S("span",Ze,tt(t.text||U(n)("common.loading")),1)])],2))}}),en=me(tn,[["__scopeId","data-v-ea88b5b5"]]),nn={class:"sticky top-0 z-40 flex h-12 items-center justify-between bg-gradient-to-r from-red-600 to-red-500 px-4"},on={class:"flex items-center gap-3"},sn=Ot({__name:"HomeHeader",setup(t){const n=fe(),{locale:e}=$t(),i=ze(),a={zh:"‰∏≠Êñá",en:"EN",fr:"FR"},s=()=>{const r=(jt.indexOf(e.value)+1)%jt.length,l=jt[r];e.value=l},o=()=>{i.isLogin?n.push("/mine/message"):n.push("/auth/login")};return(c,r)=>(M(),N("header",nn,[r[0]||(r[0]=S("div",{class:"flex items-center gap-2"},[S("img",{src:Ue,alt:"Logo",class:"h-8 w-8 rounded-lg"}),S("span",{class:"font-bold text-white"},"È°∂Â≥∞28")],-1)),S("div",on,[S("button",{onClick:s,class:"flex items-center gap-1 rounded-full bg-white/20 px-2 py-1 text-xs text-white"},[ct(U(Je),{class:"h-3.5 w-3.5"}),S("span",null,tt(a[U(e)]),1)]),S("button",{onClick:o,class:"relative text-white"},[ct(U(ge),{class:"h-5 w-5"})])])]))}});function rn(t){return Object.prototype.toString.call(t)==="[object Object]"}function ce(t){return rn(t)||Array.isArray(t)}function cn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Rt(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!==i.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(n.breakpoints||{}));return a!==s?!1:e.every(o=>{const c=t[o],r=n[o];return typeof c=="function"?`${c}`==`${r}`:!ce(c)||!ce(r)?c===r:Rt(c,r)})}function ae(t){return t.concat().sort((n,e)=>n.name>e.name?1:-1).map(n=>n.options)}function an(t,n){if(t.length!==n.length)return!1;const e=ae(t),i=ae(n);return e.every((a,s)=>{const o=i[s];return Rt(a,o)})}function Vt(t){return typeof t=="number"}function zt(t){return typeof t=="string"}function Dt(t){return typeof t=="boolean"}function le(t){return Object.prototype.toString.call(t)==="[object Object]"}function j(t){return Math.abs(t)}function Ht(t){return Math.sign(t)}function St(t,n){return j(t-n)}function ln(t,n){if(t===0||n===0||j(t)<=j(n))return 0;const e=St(j(t),j(n));return j(e/t)}function un(t){return Math.round(t*100)/100}function _t(t){return Lt(t).map(Number)}function W(t){return t[kt(t)]}function kt(t){return Math.max(0,t.length-1)}function Gt(t,n){return n===kt(t)}function ue(t,n=0){return Array.from(Array(t),(e,i)=>n+i)}function Lt(t){return Object.keys(t)}function he(t,n){return[t,n].reduce((e,i)=>(Lt(i).forEach(a=>{const s=e[a],o=i[a],c=le(s)&&le(o);e[a]=c?he(s,o):o}),e),{})}function Bt(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function fn(t,n){const e={start:i,center:a,end:s};function i(){return 0}function a(r){return s(r)/2}function s(r){return n-r}function o(r,l){return zt(t)?e[t](r):t(n,r,l)}return{measure:o}}function It(){let t=[];function n(a,s,o,c={passive:!0}){let r;if("addEventListener"in a)a.addEventListener(s,o,c),r=()=>a.removeEventListener(s,o,c);else{const l=a;l.addListener(o),r=()=>l.removeListener(o)}return t.push(r),i}function e(){t=t.filter(a=>a())}const i={add:n,clear:e};return i}function dn(t,n,e,i){const a=It(),s=1e3/60;let o=null,c=0,r=0;function l(){a.add(t,"visibilitychange",()=>{t.hidden&&u()})}function h(){x(),a.clear()}function m(g){if(!r)return;o||(o=g,e(),e());const f=g-o;for(o=g,c+=f;c>=s;)e(),c-=s;const v=c/s;i(v),r&&(r=n.requestAnimationFrame(m))}function d(){r||(r=n.requestAnimationFrame(m))}function x(){n.cancelAnimationFrame(r),o=null,c=0,r=0}function u(){o=null,c=0}return{init:l,destroy:h,start:d,stop:x,update:e,render:i}}function mn(t,n){const e=n==="rtl",i=t==="y",a=i?"y":"x",s=i?"x":"y",o=!i&&e?-1:1,c=h(),r=m();function l(u){const{height:p,width:g}=u;return i?p:g}function h(){return i?"top":e?"right":"left"}function m(){return i?"bottom":e?"left":"right"}function d(u){return u*o}return{scroll:a,cross:s,startEdge:c,endEdge:r,measureSize:l,direction:d}}function ft(t=0,n=0){const e=j(t-n);function i(l){return l<t}function a(l){return l>n}function s(l){return i(l)||a(l)}function o(l){return s(l)?i(l)?t:n:l}function c(l){return e?l-e*Math.ceil((l-n)/e):l}return{length:e,max:n,min:t,constrain:o,reachedAny:s,reachedMax:a,reachedMin:i,removeOffset:c}}function ve(t,n,e){const{constrain:i}=ft(0,t),a=t+1;let s=o(n);function o(d){return e?j((a+d)%a):i(d)}function c(){return s}function r(d){return s=o(d),m}function l(d){return h().set(c()+d)}function h(){return ve(t,c(),e)}const m={get:c,set:r,add:l,clone:h};return m}function pn(t,n,e,i,a,s,o,c,r,l,h,m,d,x,u,p,g,f,v){const{cross:b,direction:L}=t,C=["INPUT","SELECT","TEXTAREA"],O={passive:!1},_=It(),I=It(),D=ft(50,225).constrain(x.measure(20)),T={mouse:300,touch:400},y={mouse:500,touch:600},P=u?43:25;let E=!1,k=0,z=0,R=!1,q=!1,X=!1,J=!1;function Y(w){if(!v)return;function A(H){(Dt(v)||v(w,H))&&ht(H)}const B=n;_.add(B,"dragstart",H=>H.preventDefault(),O).add(B,"touchmove",()=>{},O).add(B,"touchend",()=>{}).add(B,"touchstart",A).add(B,"mousedown",A).add(B,"touchcancel",V).add(B,"contextmenu",V).add(B,"click",st,!0)}function K(){_.clear(),I.clear()}function et(){const w=J?e:n;I.add(w,"touchmove",G,O).add(w,"touchend",V).add(w,"mousemove",G,O).add(w,"mouseup",V)}function nt(w){const A=w.nodeName||"";return C.includes(A)}function ot(){return(u?y:T)[J?"mouse":"touch"]}function gt(w,A){const B=m.add(Ht(w)*-1),H=h.byDistance(w,!u).distance;return u||j(w)<D?H:g&&A?H*.5:h.byIndex(B.get(),0).distance}function ht(w){const A=Bt(w,i);J=A,X=u&&A&&!w.buttons&&E,E=St(a.get(),o.get())>=2,!(A&&w.button!==0)&&(nt(w.target)||(R=!0,s.pointerDown(w),l.useFriction(0).useDuration(0),a.set(o),et(),k=s.readPoint(w),z=s.readPoint(w,b),d.emit("pointerDown")))}function G(w){if(!Bt(w,i)&&w.touches.length>=2)return V(w);const B=s.readPoint(w),H=s.readPoint(w,b),Z=St(B,k),rt=St(H,z);if(!q&&!J&&(!w.cancelable||(q=Z>rt,!q)))return V(w);const at=s.pointerMove(w);Z>p&&(X=!0),l.useFriction(.3).useDuration(.75),c.start(),a.add(L(at)),w.preventDefault()}function V(w){const B=h.byDistance(0,!1).index!==m.get(),H=s.pointerUp(w)*ot(),Z=gt(L(H),B),rt=ln(H,Z),at=P-10*rt,it=f+rt/50;q=!1,R=!1,I.clear(),l.useDuration(at).useFriction(it),r.distance(Z,!u),J=!1,d.emit("pointerUp")}function st(w){X&&(w.stopPropagation(),w.preventDefault(),X=!1)}function Q(){return R}return{init:Y,destroy:K,pointerDown:Q}}function gn(t,n){let i,a;function s(m){return m.timeStamp}function o(m,d){const u=`client${(d||t.scroll)==="x"?"X":"Y"}`;return(Bt(m,n)?m:m.touches[0])[u]}function c(m){return i=m,a=m,o(m)}function r(m){const d=o(m)-o(a),x=s(m)-s(i)>170;return a=m,x&&(i=m),d}function l(m){if(!i||!a)return 0;const d=o(a)-o(i),x=s(m)-s(i),u=s(m)-s(a)>170,p=d/x;return x&&!u&&j(p)>.1?p:0}return{pointerDown:c,pointerMove:r,pointerUp:l,readPoint:o}}function hn(){function t(e){const{offsetTop:i,offsetLeft:a,offsetWidth:s,offsetHeight:o}=e;return{top:i,right:a+s,bottom:i+o,left:a,width:s,height:o}}return{measure:t}}function vn(t){function n(i){return t*(i/100)}return{measure:n}}function xn(t,n,e,i,a,s,o){const c=[t].concat(i);let r,l,h=[],m=!1;function d(g){return a.measureSize(o.measure(g))}function x(g){if(!s)return;l=d(t),h=i.map(d);function f(v){for(const b of v){if(m)return;const L=b.target===t,C=i.indexOf(b.target),O=L?l:h[C],_=d(L?t:i[C]);if(j(_-O)>=.5){g.reInit(),n.emit("resize");break}}}r=new ResizeObserver(v=>{(Dt(s)||s(g,v))&&f(v)}),e.requestAnimationFrame(()=>{c.forEach(v=>r.observe(v))})}function u(){m=!0,r&&r.disconnect()}return{init:x,destroy:u}}function yn(t,n,e,i,a,s){let o=0,c=0,r=a,l=s,h=t.get(),m=0;function d(){const O=i.get()-t.get(),_=!r;let I=0;return _?(o=0,e.set(i),t.set(i),I=O):(e.set(t),o+=O/r,o*=l,h+=o,t.add(o),I=h-m),c=Ht(I),m=h,C}function x(){const O=i.get()-n.get();return j(O)<.001}function u(){return r}function p(){return c}function g(){return o}function f(){return b(a)}function v(){return L(s)}function b(O){return r=O,C}function L(O){return l=O,C}const C={direction:p,duration:u,velocity:g,seek:d,settled:x,useBaseFriction:v,useBaseDuration:f,useFriction:L,useDuration:b};return C}function bn(t,n,e,i,a){const s=a.measure(10),o=a.measure(50),c=ft(.1,.99);let r=!1;function l(){return!(r||!t.reachedAny(e.get())||!t.reachedAny(n.get()))}function h(x){if(!l())return;const u=t.reachedMin(n.get())?"min":"max",p=j(t[u]-n.get()),g=e.get()-n.get(),f=c.constrain(p/o);e.subtract(g*f),!x&&j(g)<s&&(e.set(t.constrain(e.get())),i.useDuration(25).useBaseFriction())}function m(x){r=!x}return{shouldConstrain:l,constrain:h,toggleActive:m}}function wn(t,n,e,i,a){const s=ft(-n+t,0),o=m(),c=h(),r=d();function l(u,p){return St(u,p)<=1}function h(){const u=o[0],p=W(o),g=o.lastIndexOf(u),f=o.indexOf(p)+1;return ft(g,f)}function m(){return e.map((u,p)=>{const{min:g,max:f}=s,v=s.constrain(u),b=!p,L=Gt(e,p);return b?f:L||l(g,v)?g:l(f,v)?f:v}).map(u=>parseFloat(u.toFixed(3)))}function d(){if(n<=t+a)return[s.max];if(i==="keepSnaps")return o;const{min:u,max:p}=c;return o.slice(u,p)}return{snapsContained:r,scrollContainLimit:c}}function Sn(t,n,e){const i=n[0],a=e?i-t:W(n);return{limit:ft(a,i)}}function _n(t,n,e,i){const s=n.min+.1,o=n.max+.1,{reachedMin:c,reachedMax:r}=ft(s,o);function l(d){return d===1?r(e.get()):d===-1?c(e.get()):!1}function h(d){if(!l(d))return;const x=t*(d*-1);i.forEach(u=>u.add(x))}return{loop:h}}function Ln(t){const{max:n,length:e}=t;function i(s){const o=s-n;return e?o/-e:0}return{get:i}}function In(t,n,e,i,a){const{startEdge:s,endEdge:o}=t,{groupSlides:c}=a,r=m().map(n.measure),l=d(),h=x();function m(){return c(i).map(p=>W(p)[o]-p[0][s]).map(j)}function d(){return i.map(p=>e[s]-p[s]).map(p=>-j(p))}function x(){return c(l).map(p=>p[0]).map((p,g)=>p+r[g])}return{snaps:l,snapsAligned:h}}function kn(t,n,e,i,a,s){const{groupSlides:o}=a,{min:c,max:r}=i,l=h();function h(){const d=o(s),x=!t||n==="keepSnaps";return e.length===1?[s]:x?d:d.slice(c,r).map((u,p,g)=>{const f=!p,v=Gt(g,p);if(f){const b=W(g[0])+1;return ue(b)}if(v){const b=kt(s)-W(g)[0]+1;return ue(b,W(g)[0])}return u})}return{slideRegistry:l}}function Tn(t,n,e,i,a){const{reachedAny:s,removeOffset:o,constrain:c}=i;function r(u){return u.concat().sort((p,g)=>j(p)-j(g))[0]}function l(u){const p=t?o(u):c(u),g=n.map((v,b)=>({diff:h(v-p,0),index:b})).sort((v,b)=>j(v.diff)-j(b.diff)),{index:f}=g[0];return{index:f,distance:p}}function h(u,p){const g=[u,u+e,u-e];if(!t)return u;if(!p)return r(g);const f=g.filter(v=>Ht(v)===p);return f.length?r(f):W(g)-e}function m(u,p){const g=n[u]-a.get(),f=h(g,p);return{index:u,distance:f}}function d(u,p){const g=a.get()+u,{index:f,distance:v}=l(g),b=!t&&s(g);if(!p||b)return{index:f,distance:u};const L=n[f]-v,C=u+h(L,0);return{index:f,distance:C}}return{byDistance:d,byIndex:m,shortcut:h}}function En(t,n,e,i,a,s,o){function c(m){const d=m.distance,x=m.index!==n.get();s.add(d),d&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(e.set(n.get()),n.set(m.index),o.emit("select"))}function r(m,d){const x=a.byDistance(m,d);c(x)}function l(m,d){const x=n.clone().set(m),u=a.byIndex(x.get(),d);c(u)}return{distance:r,index:l}}function On(t,n,e,i,a,s,o,c){const r={passive:!0,capture:!0};let l=0;function h(x){if(!c)return;function u(p){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const v=e.findIndex(b=>b.includes(p));Vt(v)&&(a.useDuration(0),i.index(v,0),o.emit("slideFocus"))}s.add(document,"keydown",m,!1),n.forEach((p,g)=>{s.add(p,"focus",f=>{(Dt(c)||c(x,f))&&u(g)},r)})}function m(x){x.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function xt(t){let n=t;function e(){return n}function i(r){n=o(r)}function a(r){n+=o(r)}function s(r){n-=o(r)}function o(r){return Vt(r)?r:r.get()}return{get:e,set:i,add:a,subtract:s}}function xe(t,n){const e=t.scroll==="x"?o:c,i=n.style;let a=null,s=!1;function o(d){return`translate3d(${d}px,0px,0px)`}function c(d){return`translate3d(0px,${d}px,0px)`}function r(d){if(s)return;const x=un(t.direction(d));x!==a&&(i.transform=e(x),a=x)}function l(d){s=!d}function h(){s||(i.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:h,to:r,toggleActive:l}}function Dn(t,n,e,i,a,s,o,c,r){const h=_t(a),m=_t(a).reverse(),d=f().concat(v());function x(_,I){return _.reduce((D,T)=>D-a[T],I)}function u(_,I){return _.reduce((D,T)=>x(D,I)>0?D.concat([T]):D,[])}function p(_){return s.map((I,D)=>({start:I-i[D]+.5+_,end:I+n-.5+_}))}function g(_,I,D){const T=p(I);return _.map(y=>{const P=D?0:-e,E=D?e:0,k=D?"end":"start",z=T[y][k];return{index:y,loopPoint:z,slideLocation:xt(-1),translate:xe(t,r[y]),target:()=>c.get()>z?P:E}})}function f(){const _=o[0],I=u(m,_);return g(I,e,!1)}function v(){const _=n-o[0]-1,I=u(h,_);return g(I,-e,!0)}function b(){return d.every(({index:_})=>{const I=h.filter(D=>D!==_);return x(I,n)<=.1})}function L(){d.forEach(_=>{const{target:I,translate:D,slideLocation:T}=_,y=I();y!==T.get()&&(D.to(y),T.set(y))})}function C(){d.forEach(_=>_.translate.clear())}return{canLoop:b,clear:C,loop:L,loopPoints:d}}function Mn(t,n,e){let i,a=!1;function s(r){if(!e)return;function l(h){for(const m of h)if(m.type==="childList"){r.reInit(),n.emit("slidesChanged");break}}i=new MutationObserver(h=>{a||(Dt(e)||e(r,h))&&l(h)}),i.observe(t,{childList:!0})}function o(){i&&i.disconnect(),a=!0}return{init:s,destroy:o}}function Cn(t,n,e,i){const a={};let s=null,o=null,c,r=!1;function l(){c=new IntersectionObserver(u=>{r||(u.forEach(p=>{const g=n.indexOf(p.target);a[g]=p}),s=null,o=null,e.emit("slidesInView"))},{root:t.parentElement,threshold:i}),n.forEach(u=>c.observe(u))}function h(){c&&c.disconnect(),r=!0}function m(u){return Lt(a).reduce((p,g)=>{const f=parseInt(g),{isIntersecting:v}=a[f];return(u&&v||!u&&!v)&&p.push(f),p},[])}function d(u=!0){if(u&&s)return s;if(!u&&o)return o;const p=m(u);return u&&(s=p),u||(o=p),p}return{init:l,destroy:h,get:d}}function An(t,n,e,i,a,s){const{measureSize:o,startEdge:c,endEdge:r}=t,l=e[0]&&a,h=u(),m=p(),d=e.map(o),x=g();function u(){if(!l)return 0;const v=e[0];return j(n[c]-v[c])}function p(){if(!l)return 0;const v=s.getComputedStyle(W(i));return parseFloat(v.getPropertyValue(`margin-${r}`))}function g(){return e.map((v,b,L)=>{const C=!b,O=Gt(L,b);return C?d[b]+h:O?d[b]+m:L[b+1][c]-v[c]}).map(j)}return{slideSizes:d,slideSizesWithGaps:x,startGap:h,endGap:m}}function Nn(t,n,e,i,a,s,o,c,r){const{startEdge:l,endEdge:h,direction:m}=t,d=Vt(e);function x(f,v){return _t(f).filter(b=>b%v===0).map(b=>f.slice(b,b+v))}function u(f){return f.length?_t(f).reduce((v,b,L)=>{const C=W(v)||0,O=C===0,_=b===kt(f),I=a[l]-s[C][l],D=a[l]-s[b][h],T=!i&&O?m(o):0,y=!i&&_?m(c):0,P=j(D-y-(I+T));return L&&P>n+r&&v.push(b),_&&v.push(f.length),v},[]).map((v,b,L)=>{const C=Math.max(L[b-1]||0);return f.slice(C,v)}):[]}function p(f){return d?x(f,e):u(f)}return{groupSlides:p}}function Pn(t,n,e,i,a,s,o){const{align:c,axis:r,direction:l,startIndex:h,loop:m,duration:d,dragFree:x,dragThreshold:u,inViewThreshold:p,slidesToScroll:g,skipSnaps:f,containScroll:v,watchResize:b,watchSlides:L,watchDrag:C,watchFocus:O}=s,_=2,I=hn(),D=I.measure(n),T=e.map(I.measure),y=mn(r,l),P=y.measureSize(D),E=vn(P),k=fn(c,P),z=!m&&!!v,R=m||!!v,{slideSizes:q,slideSizesWithGaps:X,startGap:J,endGap:Y}=An(y,D,T,e,R,a),K=Nn(y,P,g,m,D,T,J,Y,_),{snaps:et,snapsAligned:nt}=In(y,k,D,T,K),ot=-W(et)+W(X),{snapsContained:gt,scrollContainLimit:ht}=wn(P,ot,nt,v,_),G=z?gt:nt,{limit:V}=Sn(ot,G,m),st=ve(kt(G),h,m),Q=st.clone(),F=_t(e),w=({dragHandler:dt,scrollBody:Nt,scrollBounds:Pt,options:{loop:Tt}})=>{Tt||Pt.constrain(dt.pointerDown()),Nt.seek()},A=({scrollBody:dt,translate:Nt,location:Pt,offsetLocation:Tt,previousLocation:we,scrollLooper:Se,slideLooper:_e,dragHandler:Le,animation:Ie,eventHandler:Jt,scrollBounds:ke,options:{loop:Wt}},Yt)=>{const Zt=dt.settled(),Te=!ke.shouldConstrain(),te=Wt?Zt:Zt&&Te,ee=te&&!Le.pointerDown();ee&&Ie.stop();const Ee=Pt.get()*Yt+we.get()*(1-Yt);Tt.set(Ee),Wt&&(Se.loop(dt.direction()),_e.loop()),Nt.to(Tt.get()),ee&&Jt.emit("settle"),te||Jt.emit("scroll")},B=dn(i,a,()=>w(At),dt=>A(At,dt)),H=.68,Z=G[st.get()],rt=xt(Z),at=xt(Z),it=xt(Z),lt=xt(Z),vt=yn(rt,it,at,lt,d,H),Mt=Tn(m,G,ot,V,lt),Ct=En(B,st,Q,vt,Mt,lt,o),Kt=Ln(V),Qt=It(),ye=Cn(n,e,o,p),{slideRegistry:Xt}=kn(z,v,G,ht,K,F),be=On(t,e,Xt,Ct,vt,Qt,o,O),At={ownerDocument:i,ownerWindow:a,eventHandler:o,containerRect:D,slideRects:T,animation:B,axis:y,dragHandler:pn(y,t,i,a,lt,gn(y,a),rt,B,Ct,vt,Mt,st,o,E,x,u,f,H,C),eventStore:Qt,percentOfView:E,index:st,indexPrevious:Q,limit:V,location:rt,offsetLocation:it,previousLocation:at,options:s,resizeHandler:xn(n,o,a,e,y,b,I),scrollBody:vt,scrollBounds:bn(V,it,lt,vt,E),scrollLooper:_n(ot,V,it,[rt,it,at,lt]),scrollProgress:Kt,scrollSnapList:G.map(Kt.get),scrollSnaps:G,scrollTarget:Mt,scrollTo:Ct,slideLooper:Dn(y,P,ot,q,X,et,G,it,e),slideFocus:be,slidesHandler:Mn(n,o,L),slidesInView:ye,slideIndexes:F,slideRegistry:Xt,slidesToScroll:K,target:lt,translate:xe(y,n)};return At}function Fn(){let t={},n;function e(l){n=l}function i(l){return t[l]||[]}function a(l){return i(l).forEach(h=>h(n,l)),r}function s(l,h){return t[l]=i(l).concat([h]),r}function o(l,h){return t[l]=i(l).filter(m=>m!==h),r}function c(){t={}}const r={init:e,emit:a,off:o,on:s,clear:c};return r}const jn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function zn(t){function n(s,o){return he(s,o||{})}function e(s){const o=s.breakpoints||{},c=Lt(o).filter(r=>t.matchMedia(r).matches).map(r=>o[r]).reduce((r,l)=>n(r,l),{});return n(s,c)}function i(s){return s.map(o=>Lt(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:e,optionsMediaQueries:i}}function Bn(t){let n=[];function e(s,o){return n=o.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),n.forEach(c=>c.init(s,t)),o.reduce((c,r)=>Object.assign(c,{[r.name]:r}),{})}function i(){n=n.filter(s=>s.destroy())}return{init:e,destroy:i}}function Et(t,n,e){const i=t.ownerDocument,a=i.defaultView,s=zn(a),o=Bn(s),c=It(),r=Fn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:m}=s,{on:d,off:x,emit:u}=r,p=y;let g=!1,f,v=l(jn,Et.globalOptions),b=l(v),L=[],C,O,_;function I(){const{container:F,slides:w}=b;O=(zt(F)?t.querySelector(F):F)||t.children[0];const B=zt(w)?O.querySelectorAll(w):w;_=[].slice.call(B||O.children)}function D(F){const w=Pn(t,O,_,i,a,F,r);if(F.loop&&!w.slideLooper.canLoop()){const A=Object.assign({},F,{loop:!1});return D(A)}return w}function T(F,w){g||(v=l(v,F),b=h(v),L=w||L,I(),f=D(b),m([v,...L.map(({options:A})=>A)]).forEach(A=>c.add(A,"change",y)),b.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(Q),f.eventHandler.init(Q),f.resizeHandler.init(Q),f.slidesHandler.init(Q),f.options.loop&&f.slideLooper.loop(),O.offsetParent&&_.length&&f.dragHandler.init(Q),C=o.init(Q,L)))}function y(F,w){const A=K();P(),T(l({startIndex:A},F),w),r.emit("reInit")}function P(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),c.clear()}function E(){g||(g=!0,c.clear(),P(),r.emit("destroy"),r.clear())}function k(F,w,A){!b.active||g||(f.scrollBody.useBaseFriction().useDuration(w===!0?0:b.duration),f.scrollTo.index(F,A||0))}function z(F){const w=f.index.add(1).get();k(w,F,-1)}function R(F){const w=f.index.add(-1).get();k(w,F,1)}function q(){return f.index.add(1).get()!==K()}function X(){return f.index.add(-1).get()!==K()}function J(){return f.scrollSnapList}function Y(){return f.scrollProgress.get(f.offsetLocation.get())}function K(){return f.index.get()}function et(){return f.indexPrevious.get()}function nt(){return f.slidesInView.get()}function ot(){return f.slidesInView.get(!1)}function gt(){return C}function ht(){return f}function G(){return t}function V(){return O}function st(){return _}const Q={canScrollNext:q,canScrollPrev:X,containerNode:V,internalEngine:ht,destroy:E,off:x,on:d,emit:u,plugins:gt,previousScrollSnap:et,reInit:p,rootNode:G,scrollNext:z,scrollPrev:R,scrollProgress:Y,scrollSnapList:J,scrollTo:k,selectedScrollSnap:K,slideNodes:st,slidesInView:nt,slidesNotInView:ot};return T(n,e),setTimeout(()=>r.emit("init"),0),Q}Et.globalOptions=void 0;function Ut(t={},n=[]){const e=oe(t),i=oe(n);let a=e?t.value:t,s=i?n.value:n;const o=ne(),c=ne();function r(){c.value&&c.value.reInit(a,s)}return de(()=>{!cn()||!o.value||(Et.globalOptions=Ut.globalOptions,c.value=Et(o.value,a,s))}),Oe(()=>{c.value&&c.value.destroy()}),e&&yt(t,l=>{Rt(a,l)||(a=l,r())}),i&&yt(n,l=>{an(s,l)||(s=l,r())}),[o,c]}Ut.globalOptions=void 0;const $n={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Rn(t,n){const e=t.scrollSnapList();return typeof n=="number"?e.map(()=>n):n(e,t)}function Vn(t,n){const e=t.rootNode();return n&&n(e)||e}function qt(t={}){let n,e,i,a,s=null,o=0,c=!1,r=!1,l=!1,h=!1;function m(k,z){e=k;const{mergeOptions:R,optionsAtMedia:q}=z,X=R($n,qt.globalOptions),J=R(X,t);if(n=q(J),e.scrollSnapList().length<=1)return;h=n.jump,i=!1,a=Rn(e,n.delay);const{eventStore:Y,ownerDocument:K}=e.internalEngine(),et=!!e.internalEngine().options.watchDrag,nt=Vn(e,n.rootNode);Y.add(K,"visibilitychange",f),et&&e.on("pointerDown",b),et&&!n.stopOnInteraction&&e.on("pointerUp",L),n.stopOnMouseEnter&&Y.add(nt,"mouseenter",C),n.stopOnMouseEnter&&!n.stopOnInteraction&&Y.add(nt,"mouseleave",O),n.stopOnFocusIn&&e.on("slideFocusStart",g),n.stopOnFocusIn&&!n.stopOnInteraction&&Y.add(e.containerNode(),"focusout",p),n.playOnInit&&p()}function d(){e.off("pointerDown",b).off("pointerUp",L).off("slideFocusStart",g),g(),i=!0,c=!1}function x(){const{ownerWindow:k}=e.internalEngine();k.clearTimeout(o),o=k.setTimeout(y,a[e.selectedScrollSnap()]),s=new Date().getTime(),e.emit("autoplay:timerset")}function u(){const{ownerWindow:k}=e.internalEngine();k.clearTimeout(o),o=0,s=null,e.emit("autoplay:timerstopped")}function p(){if(!i){if(v()){l=!0;return}c||e.emit("autoplay:play"),x(),c=!0}}function g(){i||(c&&e.emit("autoplay:stop"),u(),c=!1)}function f(){if(v())return l=c,g();l&&p()}function v(){const{ownerDocument:k}=e.internalEngine();return k.visibilityState==="hidden"}function b(){r||g()}function L(){r||p()}function C(){r=!0,g()}function O(){r=!1,p()}function _(k){typeof k<"u"&&(h=k),p()}function I(){c&&g()}function D(){c&&p()}function T(){return c}function y(){const{index:k}=e.internalEngine(),z=k.clone().add(1).get(),R=e.scrollSnapList().length-1,q=n.stopOnLastSnap&&z===R;if(e.canScrollNext()?e.scrollNext(h):e.scrollTo(0,h),e.emit("autoplay:select"),q)return g();p()}function P(){if(!s)return null;const k=a[e.selectedScrollSnap()],z=new Date().getTime()-s;return k-z}return{name:"autoplay",options:t,init:m,destroy:d,play:_,stop:I,reset:D,isPlaying:T,timeUntilNext:P}}qt.globalOptions=void 0;const Hn={key:0,class:"relative"},Gn={class:"flex"},Un=["src","alt"],qn={key:0,class:"absolute bottom-2 left-1/2 flex -translate-x-1/2 gap-1.5"},Kn={key:1,class:"flex h-40 items-center justify-center bg-gradient-to-r from-red-500 to-red-600"},Qn=Ot({__name:"BannerCarousel",props:{banners:{},imageBaseUrl:{default:""}},setup(t){const n=t,{localize:e}=pe(),[i]=Ut({loop:!0},[qt({delay:3e3,stopOnInteraction:!1})]),a=$(0),s=o=>o?o.startsWith("http")?o:`${n.imageBaseUrl}${o}`:"";return(o,c)=>t.banners.length>0?(M(),N("div",Hn,[S("div",{ref_key:"emblaRef",ref:i,class:"overflow-hidden"},[S("div",Gn,[(M(!0),N(bt,null,wt(t.banners,(r,l)=>(M(),N("div",{key:r.id||l,class:"relative min-w-0 flex-[0_0_100%]"},[S("img",{src:s(r.pic||""),alt:U(e)(r.lang_title,r.title),class:"h-40 w-full object-cover",onError:c[0]||(c[0]=h=>h.target.style.display="none")},null,40,Un)]))),128))])],512),t.banners.length>1?(M(),N("div",qn,[(M(!0),N(bt,null,wt(t.banners,(r,l)=>(M(),N("span",{key:l,class:ut(["h-1.5 w-1.5 rounded-full transition-colors",l===a.value?"bg-white":"bg-white/50"])},null,2))),128))])):pt("",!0)])):(M(),N("div",Kn,[...c[1]||(c[1]=[S("span",{class:"text-lg font-bold text-white"},"È°∂Â≥∞28",-1)])]))}}),Xn={class:"flex min-h-screen justify-center bg-[#eef3f8]"},Jn={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},Wn={key:1,class:"px-3 pb-20 pt-3"},Yn={class:"grid grid-cols-4 gap-2 mb-3"},Zn={class:"mt-1 text-[12px] text-gray-700"},to={key:0,class:"mb-2"},eo={class:"h-full overflow-hidden flex items-center"},no={class:"pl-16"},oo={class:"mb-2 flex items-center justify-between text-[13px]"},so={class:"flex items-center gap-2"},ro={class:"text-black font-bold"},io={class:"mb-4 grid grid-cols-3 gap-2"},co=["src","alt"],ao={key:1,class:"col-span-3 text-center py-4 text-gray-400 text-sm"},lo={key:1,class:"space-y-3"},uo=["href"],fo=["href"],mo={key:2,class:"space-y-3"},po={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},go={class:"bg-white rounded-2xl max-w-sm w-full max-h-[70vh] overflow-hidden shadow-2xl"},ho={class:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-500 to-red-600"},vo={class:"font-bold text-white text-lg"},xo={class:"p-4 overflow-y-auto max-h-[50vh]"},yo=["innerHTML"],bo={class:"p-4 border-t bg-gray-50"},wo={class:"bg-white w-[calc(100vw-32px)] max-w-lg max-h-[80vh] overflow-hidden flex flex-col rounded-2xl shadow-2xl"},So={class:"flex items-center justify-between p-4 border-b"},_o={class:"flex-1 pr-4"},Lo={class:"text-lg font-bold text-gray-900"},Io={key:0,class:"text-xs text-gray-500 mt-1"},ko={class:"flex-1 overflow-y-auto p-4"},To={key:0,class:"flex items-center justify-center py-8"},Eo=["innerHTML"],Oo=Ot({__name:"index",setup(t){const n=fe(),{t:e}=$t(),{localize:i}=pe(),a="https://img.kaixin28.com",s=$(!0),o=$(!0),c=$([]),r=$(null),l=$(null),h=$(!1),m=$(null),d=$([]),x=$(0),u=$(!1),p=$(null),g=$(null),f=$(!1),v=$(null),b=$(!1);let L=null;const C=Me(()=>[{name:e("home.announcement"),icon:ge,color:"bg-[#ffb84d]",href:"/index/announce"},{name:e("home.events"),icon:Ke,color:"bg-[#b47cff]",href:"/index/activities"},{name:e("home.rewards"),icon:Qe,color:"bg-[#ff6b6b]",href:"/mine/relief"},{name:e("home.partners"),icon:Xe,color:"bg-[#4ec5ff]",href:"/index/partners"}]),O=async()=>{try{s.value=!0,o.value=!0;const[T,y,P,E]=await Promise.all([Be(),$e({hot_count:6,new_count:3}),Re(),Ve()]);T.code===200&&(c.value=T.data||[]),y.code===200&&(r.value=y.data),P.code===200&&P.data&&(m.value=P.data),o.value=!1,E.code===200&&E.data&&(d.value=E.data);const k=await He();if(k.code===200&&k.data?.length>0){const z=k.data[0];l.value=z;const R=`home_popup_${z.id}`;sessionStorage.getItem(R)||(h.value=!0,sessionStorage.setItem(R,"true"))}}catch(T){console.error("Âä†ËΩΩÈ¶ñÈ°µÊï∞ÊçÆÂ§±Ë¥•:",T)}finally{s.value=!1}};yt(x,()=>{u.value=!1}),yt([x,()=>d.value,u],()=>{u.value||setTimeout(()=>{if(p.value&&g.value){const T=p.value.offsetWidth,y=g.value.scrollWidth;u.value=y>T}},50)},{immediate:!0}),yt([()=>d.value,x,u],()=>{if(L&&clearTimeout(L),d.value.length===0)return;const y=d.value[x.value]?.title?.length||0,P=u.value?Math.max(y*.25,5)*1e3+1e3:3e3;L=setTimeout(()=>{x.value=(x.value+1)%d.value.length},P)},{immediate:!0});const _=async T=>{f.value=!0,b.value=!0,v.value=T;try{const y=await Ge(T.id);y?.code===200&&y?.data&&(v.value=y.data)}catch{}finally{b.value=!1}},I=()=>{f.value=!1},D=T=>Math.max(T.length*.2,6);return de(()=>{O()}),De(()=>{L&&clearTimeout(L)}),(T,y)=>{const P=Ne("router-link");return M(),N("div",Xn,[S("div",Jn,[ct(sn),s.value?(M(),mt(en,{key:0})):(M(),N("main",Wn,[S("section",Yn,[(M(!0),N(bt,null,wt(C.value,(E,k)=>(M(),mt(P,{key:E.href,to:E.href,class:"flex flex-col items-center justify-center text-[13px] relative transform transition-transform duration-200 hover:scale-105 active:scale-95",style:re({animationDelay:`${k*50}ms`})},{default:Ft(()=>[S("div",{class:ut(["flex h-11 w-11 items-center justify-center rounded-lg text-xl text-white shadow-md relative transition-shadow hover:shadow-lg",E.color])},[(M(),mt(Pe(E.icon),{class:"h-5 w-5"}))],2),S("span",Zn,tt(E.name),1)]),_:2},1032,["to","style"]))),128))]),ct(Qn,{banners:c.value,"image-base-url":U(a),class:"mb-3"},null,8,["banners","image-base-url"]),d.value.length>0?(M(),N("section",to,[S("div",{class:"bg-gradient-to-r from-[#fff8e6] to-[#fff2d6] rounded-md px-2 py-1 flex items-center gap-1.5 shadow-sm border border-[#ffe4a0] cursor-pointer hover:shadow-md transition-shadow active:scale-[0.99]",onClick:y[0]||(y[0]=E=>_(d.value[x.value]))},[y[4]||(y[4]=S("div",{class:"flex-shrink-0 text-sm"}," üì¢ ",-1)),S("div",{ref_key:"noticeContainerRef",ref:p,class:"flex-1 overflow-hidden relative h-3.5"},[(M(!0),N(bt,null,wt(d.value,(E,k)=>(M(),N("div",{key:E.id,class:ut(["absolute inset-0 transition-all duration-500 ease-in-out",k===x.value?"opacity-100 translate-y-0":"opacity-0 translate-y-4"])},[S("div",eo,[u.value&&k===x.value?(M(),N("div",{key:0,class:"inline-flex whitespace-nowrap text-sm text-[#8b5a00] animate-marquee-text",style:re({animationDuration:`${D(E.title)}s`})},[S("span",null,tt(E.title),1),S("span",no,tt(E.title),1)],4)):(M(),N("span",{key:1,ref_for:!0,ref:k===x.value?z=>g.value=z:void 0,class:"text-sm text-[#8b5a00] whitespace-nowrap"},tt(E.title),513))])],2))),128))],512)])])):pt("",!0),S("section",oo,[S("div",so,[y[5]||(y[5]=S("span",{class:"w-1 h-4 bg-red-500 rounded-full"},null,-1)),S("span",ro,tt(U(e)("home.hot-games")),1)])]),S("section",io,[r.value?.hot&&r.value.hot.length>0?(M(!0),N(bt,{key:0},wt(r.value.hot,(E,k)=>(M(),mt(P,{key:"hot-games"+k,to:`/games?lottery_id=${E.id}`,class:"block transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 rounded-md overflow-hidden"},{default:Ft(()=>[S("img",{src:E.logo||"",alt:E.name||"",class:"w-full rounded-md"},null,8,co)]),_:2},1032,["to"]))),128)):(M(),N("div",ao," ÊöÇÊó†ÁÉ≠Èó®Ê∏∏Êàè "))]),!o.value&&m.value?(M(),N("section",lo,[S("a",{href:m.value.pc_url,class:"block"},[...y[6]||(y[6]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÁîµËÑëÁâà ",-1)])],8,uo),S("a",{href:m.value.customer_link,class:"block"},[...y[7]||(y[7]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ËÅîÁ≥ªÂÆ¢Êúç ",-1)])],8,fo),S("button",{onClick:y[1]||(y[1]=E=>U(n).push("/im")),class:"flex h-11 w-full items-center justify-center gap-2 rounded-full bg-gradient-to-r from-[#4f46e5] to-[#7c3aed] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"},[ct(U(qe),{class:"h-4 w-4"}),y[8]||(y[8]=Ce(" Âú®Á∫øÊ∂àÊÅØ ",-1))])])):o.value?(M(),N("section",mo,[...y[9]||(y[9]=[S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1),S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1),S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1)])])):pt("",!0)])),(M(),mt(se,{to:"body"},[h.value&&l.value?(M(),N("div",po,[S("div",go,[S("div",ho,[S("h3",vo,tt(U(i)(l.value.lang_title,l.value.title)),1),S("button",{onClick:y[2]||(y[2]=E=>h.value=!1),class:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/20 transition-colors"},[ct(U(ie),{class:"h-5 w-5"})])]),S("div",xo,[S("div",{class:"text-sm text-gray-600 leading-relaxed",innerHTML:U(i)(l.value.lang_content,l.value.content)},null,8,yo)]),S("div",bo,[S("button",{onClick:y[3]||(y[3]=E=>h.value=!1),class:"w-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-white rounded-full py-3 text-sm font-bold hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÊàëÁü•ÈÅì‰∫Ü ")])])])):pt("",!0)])),(M(),mt(se,{to:"body"},[ct(Ae,{name:"dialog"},{default:Ft(()=>[f.value?(M(),N("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:Fe(I,["self"])},[S("div",wo,[S("div",So,[S("div",_o,[S("h3",Lo,tt(v.value?.title),1),v.value?.created_at?(M(),N("div",Io," ÂèëÂ∏É‰∫é "+tt(v.value.created_at),1)):pt("",!0)]),S("button",{onClick:I,class:"p-1.5 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0"},[ct(U(ie),{class:"h-5 w-5"})])]),S("div",ko,[b.value?(M(),N("div",To,[...y[10]||(y[10]=[S("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1)])])):(M(),N("div",{key:1,class:"text-sm text-gray-700 leading-7 prose prose-sm max-w-none",innerHTML:v.value?.content||""},null,8,Eo))])])])):pt("",!0)]),_:1})]))])])}}}),Ho=me(Oo,[["__scopeId","data-v-dc77eec0"]]);export{Ho as default};
