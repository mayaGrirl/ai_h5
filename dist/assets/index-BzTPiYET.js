import{d as _,o as h,r as f,q as u,l as e,f as x,u as l,K as w,F as C,t as V,x as c,z as p,B as k,v as d,Q as z,$ as S,J as B}from"./vue-vendor-ntQnFNWs.js";import{a as T,u as K,t as m}from"./index-DwHqBoeR.js";import{J as M}from"./customer-Dwg9Do7W.js";import{_ as N}from"./PageHeader.vue_vue_type_script_setup_true_lang-BPMV6AfE.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";import"./chevron-left-B_Mn67mg.js";const Q={class:"flex min-h-screen justify-center bg-[#eef3f8]"},R={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},j={class:"bg-white rounded-lg mb-3 overflow-hidden"},D={class:"flex flex-wrap flex-col items-start content-start px-4 py-3 border-b"},F=["value"],J={key:0,class:"h-2 w-2 rounded-full bg-white"},$={class:"text-sm"},q=["disabled"],P=_({__name:"index",setup(A){const v=k(),{t:i}=T(),r=K(),a=f(!1),t=f("safeQuestion"),y=[{value:"safeQuestion",i18nKey:"mine.security-settings.group-account.redeem.option-2"}],b=async()=>{a.value=!0;try{const o=await M({prize_verify_type:t.value});o.code===200?(m.success(o.message||"设置成功"),r.currentCustomer&&r.setCurrentCustomer({...r.currentCustomer,prizeVerifyType:t.value}),v.back()):m.error(o.message||"设置失败")}catch{m.error("设置失败")}finally{a.value=!1}};return h(()=>{r.currentCustomer?.prizeVerifyType&&(t.value=r.currentCustomer.prizeVerifyType)}),(o,n)=>(d(),u("div",Q,[e("div",R,[x(N,{title:l(i)("mine.security-settings.group-other.redeem")},null,8,["title"]),e("form",{onSubmit:w(b,["prevent"]),class:"w-full bg-gray-100 px-3 py-4"},[e("div",j,[e("div",D,[(d(),u(C,null,V(y,s=>e("label",{key:s.value,class:c(["flex items-center gap-3 px-4 py-3 cursor-pointer",t.value===s.value?"text-blue-600":"text-gray-700"])},[z(e("input",{type:"radio",value:s.value,"onUpdate:modelValue":n[0]||(n[0]=g=>t.value=g),class:"hidden"},null,8,F),[[S,t.value]]),e("span",{class:c(["flex h-4 w-4 items-center justify-center rounded-full border",t.value===s.value?"border-red-600 bg-red-600":"border-gray-300"])},[t.value===s.value?(d(),u("span",J)):B("",!0)],2),e("span",$,p(l(i)(s.i18nKey)),1)],2)),64))])]),e("button",{type:"submit",disabled:a.value,class:c(["mt-10 h-12 w-full rounded-full bg-gradient-to-r from-[#ff6a3a] to-[#ff1020] text-white font-medium tracking-wide transition transform active:scale-95",a.value?"opacity-60 cursor-not-allowed":"cursor-pointer"])},p(a.value?l(i)("common.form.button.submitting"):l(i)("common.form.button.submit")),11,q)],32),n[1]||(n[1]=e("div",{class:"h-14"},null,-1))])]))}});export{P as default};
