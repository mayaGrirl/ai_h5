import{d as Ot,q as N,u as lt,n as S,x as st,y as rt,l as D,f as mt,D as ke,o as le,s as te,P as Ee,w as bt,i as ee,C as pt,F as xt,t as wt,r as $,b as Oe,k as dt,c as De,m as ne,p as Ft,G as Me,E as Ae,v as Ce,O as oe,M as Ne}from"./vue-vendor-2ZNhN7Rr.js";import{a as ue,_ as fe,u as Pe}from"./index-6bPpM1RI.js";import{g as Fe,i as je,a as Be,b as ze,c as $e,d as Re}from"./home-B5_g79L-.js";import{u as de}from"./useLocalized-Bfr7hDFY.js";import{_ as Ve}from"./login-logo-DOFsqlSQ.js";import{B as me}from"./bell-APczkwTd.js";import{X as se}from"./x-BQ3SkoNe.js";import{S as He}from"./star-oHTBJyTv.js";import{G as Ue}from"./gift-Bvwudmzg.js";import{U as Ge}from"./users-round-DaFBB5a_.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";const qe={class:"flex flex-col items-center gap-3"},Ke={class:"relative"},Qe={class:"text-sm text-gray-500 animate-pulse"},Xe=Ot({__name:"PageLoading",props:{size:{default:"md"},text:{},fullScreen:{type:Boolean,default:!1}},setup(t){const{t:e}=ue(),n={sm:"h-5 w-5 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"};return(i,a)=>(D(),N("div",{class:lt(["flex items-center justify-center",t.fullScreen?"fixed inset-0 bg-white/80 backdrop-blur-sm z-50":"h-40"])},[S("div",qe,[S("div",Ke,[S("div",{class:lt(["rounded-full border-gray-200 animate-pulse",n[t.size]])},null,2),S("div",{class:lt(["absolute inset-0 rounded-full border-transparent border-t-red-500 border-r-red-500/50 spin-smooth",n[t.size]])},null,2),S("div",{class:lt(["absolute inset-0 rounded-full border-transparent border-b-orange-400/30 spin-smooth",n[t.size]]),style:{"animation-duration":"1.5s","animation-direction":"reverse"}},null,2)]),S("span",Qe,st(t.text||rt(e)("common.loading")),1)])],2))}}),Je=fe(Xe,[["__scopeId","data-v-ea88b5b5"]]),We={class:"sticky top-0 z-40 flex h-12 items-center justify-between bg-gradient-to-r from-red-600 to-red-500 px-4"},Ye={class:"flex items-center gap-3"},Ze=Ot({__name:"HomeHeader",setup(t){const e=ke(),n=Pe(),i=()=>{n.isLogin?e.push("/mine/message"):e.push("/auth/login")};return(a,s)=>(D(),N("header",We,[s[0]||(s[0]=S("div",{class:"flex items-center gap-2"},[S("img",{src:Ve,alt:"Logo",class:"h-8 w-8 rounded-lg"}),S("span",{class:"font-bold text-white"},"È°∂Â≥∞28")],-1)),S("div",Ye,[S("button",{onClick:i,class:"relative text-white"},[mt(rt(me),{class:"h-5 w-5"})])])]))}});function tn(t){return Object.prototype.toString.call(t)==="[object Object]"}function re(t){return tn(t)||Array.isArray(t)}function en(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zt(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==s?!1:n.every(o=>{const c=t[o],r=e[o];return typeof c=="function"?`${c}`==`${r}`:!re(c)||!re(r)?c===r:zt(c,r)})}function ie(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function nn(t,e){if(t.length!==e.length)return!1;const n=ie(t),i=ie(e);return n.every((a,s)=>{const o=i[s];return zt(a,o)})}function $t(t){return typeof t=="number"}function jt(t){return typeof t=="string"}function Dt(t){return typeof t=="boolean"}function ce(t){return Object.prototype.toString.call(t)==="[object Object]"}function j(t){return Math.abs(t)}function Rt(t){return Math.sign(t)}function St(t,e){return j(t-e)}function on(t,e){if(t===0||e===0||j(t)<=j(e))return 0;const n=St(j(t),j(e));return j(n/t)}function sn(t){return Math.round(t*100)/100}function _t(t){return Lt(t).map(Number)}function J(t){return t[Tt(t)]}function Tt(t){return Math.max(0,t.length-1)}function Vt(t,e){return e===Tt(t)}function ae(t,e=0){return Array.from(Array(t),(n,i)=>e+i)}function Lt(t){return Object.keys(t)}function pe(t,e){return[t,e].reduce((n,i)=>(Lt(i).forEach(a=>{const s=n[a],o=i[a],c=ce(s)&&ce(o);n[a]=c?pe(s,o):o}),n),{})}function Bt(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function rn(t,e){const n={start:i,center:a,end:s};function i(){return 0}function a(r){return s(r)/2}function s(r){return e-r}function o(r,l){return jt(t)?n[t](r):t(e,r,l)}return{measure:o}}function It(){let t=[];function e(a,s,o,c={passive:!0}){let r;if("addEventListener"in a)a.addEventListener(s,o,c),r=()=>a.removeEventListener(s,o,c);else{const l=a;l.addListener(o),r=()=>l.removeListener(o)}return t.push(r),i}function n(){t=t.filter(a=>a())}const i={add:e,clear:n};return i}function cn(t,e,n,i){const a=It(),s=1e3/60;let o=null,c=0,r=0;function l(){a.add(t,"visibilitychange",()=>{t.hidden&&d()})}function h(){y(),a.clear()}function f(g){if(!r)return;o||(o=g,n(),n());const u=g-o;for(o=g,c+=u;c>=s;)n(),c-=s;const v=c/s;i(v),r&&(r=e.requestAnimationFrame(f))}function m(){r||(r=e.requestAnimationFrame(f))}function y(){e.cancelAnimationFrame(r),o=null,c=0,r=0}function d(){o=null,c=0}return{init:l,destroy:h,start:m,stop:y,update:n,render:i}}function an(t,e){const n=e==="rtl",i=t==="y",a=i?"y":"x",s=i?"x":"y",o=!i&&n?-1:1,c=h(),r=f();function l(d){const{height:p,width:g}=d;return i?p:g}function h(){return i?"top":n?"right":"left"}function f(){return i?"bottom":n?"left":"right"}function m(d){return d*o}return{scroll:a,cross:s,startEdge:c,endEdge:r,measureSize:l,direction:m}}function ut(t=0,e=0){const n=j(t-e);function i(l){return l<t}function a(l){return l>e}function s(l){return i(l)||a(l)}function o(l){return s(l)?i(l)?t:e:l}function c(l){return n?l-n*Math.ceil((l-e)/n):l}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:a,reachedMin:i,removeOffset:c}}function ge(t,e,n){const{constrain:i}=ut(0,t),a=t+1;let s=o(e);function o(m){return n?j((a+m)%a):i(m)}function c(){return s}function r(m){return s=o(m),f}function l(m){return h().set(c()+m)}function h(){return ge(t,c(),n)}const f={get:c,set:r,add:l,clone:h};return f}function ln(t,e,n,i,a,s,o,c,r,l,h,f,m,y,d,p,g,u,v){const{cross:b,direction:E}=t,A=["INPUT","SELECT","TEXTAREA"],O={passive:!1},L=It(),T=It(),_=ut(50,225).constrain(y.measure(20)),w={mouse:300,touch:400},k={mouse:500,touch:600},I=d?43:25;let P=!1,M=0,z=0,U=!1,G=!1,Q=!1,X=!1;function W(x){if(!v)return;function C(V){(Dt(v)||v(x,V))&&ht(V)}const B=e;L.add(B,"dragstart",V=>V.preventDefault(),O).add(B,"touchmove",()=>{},O).add(B,"touchend",()=>{}).add(B,"touchstart",C).add(B,"mousedown",C).add(B,"touchcancel",R).add(B,"contextmenu",R).add(B,"click",nt,!0)}function q(){L.clear(),T.clear()}function Z(){const x=X?n:e;T.add(x,"touchmove",H,O).add(x,"touchend",R).add(x,"mousemove",H,O).add(x,"mouseup",R)}function tt(x){const C=x.nodeName||"";return A.includes(C)}function et(){return(d?k:w)[X?"mouse":"touch"]}function gt(x,C){const B=f.add(Rt(x)*-1),V=h.byDistance(x,!d).distance;return d||j(x)<_?V:g&&C?V*.5:h.byIndex(B.get(),0).distance}function ht(x){const C=Bt(x,i);X=C,Q=d&&C&&!x.buttons&&P,P=St(a.get(),o.get())>=2,!(C&&x.button!==0)&&(tt(x.target)||(U=!0,s.pointerDown(x),l.useFriction(0).useDuration(0),a.set(o),Z(),M=s.readPoint(x),z=s.readPoint(x,b),m.emit("pointerDown")))}function H(x){if(!Bt(x,i)&&x.touches.length>=2)return R(x);const B=s.readPoint(x),V=s.readPoint(x,b),Y=St(B,M),ot=St(V,z);if(!G&&!X&&(!x.cancelable||(G=Y>ot,!G)))return R(x);const ct=s.pointerMove(x);Y>p&&(Q=!0),l.useFriction(.3).useDuration(.75),c.start(),a.add(E(ct)),x.preventDefault()}function R(x){const B=h.byDistance(0,!1).index!==f.get(),V=s.pointerUp(x)*et(),Y=gt(E(V),B),ot=on(V,Y),ct=I-10*ot,it=u+ot/50;G=!1,U=!1,T.clear(),l.useDuration(ct).useFriction(it),r.distance(Y,!d),X=!1,m.emit("pointerUp")}function nt(x){Q&&(x.stopPropagation(),x.preventDefault(),Q=!1)}function K(){return U}return{init:W,destroy:q,pointerDown:K}}function un(t,e){let i,a;function s(f){return f.timeStamp}function o(f,m){const d=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Bt(f,e)?f:f.touches[0])[d]}function c(f){return i=f,a=f,o(f)}function r(f){const m=o(f)-o(a),y=s(f)-s(i)>170;return a=f,y&&(i=f),m}function l(f){if(!i||!a)return 0;const m=o(a)-o(i),y=s(f)-s(i),d=s(f)-s(a)>170,p=m/y;return y&&!d&&j(p)>.1?p:0}return{pointerDown:c,pointerMove:r,pointerUp:l,readPoint:o}}function fn(){function t(n){const{offsetTop:i,offsetLeft:a,offsetWidth:s,offsetHeight:o}=n;return{top:i,right:a+s,bottom:i+o,left:a,width:s,height:o}}return{measure:t}}function dn(t){function e(i){return t*(i/100)}return{measure:e}}function mn(t,e,n,i,a,s,o){const c=[t].concat(i);let r,l,h=[],f=!1;function m(g){return a.measureSize(o.measure(g))}function y(g){if(!s)return;l=m(t),h=i.map(m);function u(v){for(const b of v){if(f)return;const E=b.target===t,A=i.indexOf(b.target),O=E?l:h[A],L=m(E?t:i[A]);if(j(L-O)>=.5){g.reInit(),e.emit("resize");break}}}r=new ResizeObserver(v=>{(Dt(s)||s(g,v))&&u(v)}),n.requestAnimationFrame(()=>{c.forEach(v=>r.observe(v))})}function d(){f=!0,r&&r.disconnect()}return{init:y,destroy:d}}function pn(t,e,n,i,a,s){let o=0,c=0,r=a,l=s,h=t.get(),f=0;function m(){const O=i.get()-t.get(),L=!r;let T=0;return L?(o=0,n.set(i),t.set(i),T=O):(n.set(t),o+=O/r,o*=l,h+=o,t.add(o),T=h-f),c=Rt(T),f=h,A}function y(){const O=i.get()-e.get();return j(O)<.001}function d(){return r}function p(){return c}function g(){return o}function u(){return b(a)}function v(){return E(s)}function b(O){return r=O,A}function E(O){return l=O,A}const A={direction:p,duration:d,velocity:g,seek:m,settled:y,useBaseFriction:v,useBaseDuration:u,useFriction:E,useDuration:b};return A}function gn(t,e,n,i,a){const s=a.measure(10),o=a.measure(50),c=ut(.1,.99);let r=!1;function l(){return!(r||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(y){if(!l())return;const d=t.reachedMin(e.get())?"min":"max",p=j(t[d]-e.get()),g=n.get()-e.get(),u=c.constrain(p/o);n.subtract(g*u),!y&&j(g)<s&&(n.set(t.constrain(n.get())),i.useDuration(25).useBaseFriction())}function f(y){r=!y}return{shouldConstrain:l,constrain:h,toggleActive:f}}function hn(t,e,n,i,a){const s=ut(-e+t,0),o=f(),c=h(),r=m();function l(d,p){return St(d,p)<=1}function h(){const d=o[0],p=J(o),g=o.lastIndexOf(d),u=o.indexOf(p)+1;return ut(g,u)}function f(){return n.map((d,p)=>{const{min:g,max:u}=s,v=s.constrain(d),b=!p,E=Vt(n,p);return b?u:E||l(g,v)?g:l(u,v)?u:v}).map(d=>parseFloat(d.toFixed(3)))}function m(){if(e<=t+a)return[s.max];if(i==="keepSnaps")return o;const{min:d,max:p}=c;return o.slice(d,p)}return{snapsContained:r,scrollContainLimit:c}}function vn(t,e,n){const i=e[0],a=n?i-t:J(e);return{limit:ut(a,i)}}function yn(t,e,n,i){const s=e.min+.1,o=e.max+.1,{reachedMin:c,reachedMax:r}=ut(s,o);function l(m){return m===1?r(n.get()):m===-1?c(n.get()):!1}function h(m){if(!l(m))return;const y=t*(m*-1);i.forEach(d=>d.add(y))}return{loop:h}}function bn(t){const{max:e,length:n}=t;function i(s){const o=s-e;return n?o/-n:0}return{get:i}}function xn(t,e,n,i,a){const{startEdge:s,endEdge:o}=t,{groupSlides:c}=a,r=f().map(e.measure),l=m(),h=y();function f(){return c(i).map(p=>J(p)[o]-p[0][s]).map(j)}function m(){return i.map(p=>n[s]-p[s]).map(p=>-j(p))}function y(){return c(l).map(p=>p[0]).map((p,g)=>p+r[g])}return{snaps:l,snapsAligned:h}}function wn(t,e,n,i,a,s){const{groupSlides:o}=a,{min:c,max:r}=i,l=h();function h(){const m=o(s),y=!t||e==="keepSnaps";return n.length===1?[s]:y?m:m.slice(c,r).map((d,p,g)=>{const u=!p,v=Vt(g,p);if(u){const b=J(g[0])+1;return ae(b)}if(v){const b=Tt(s)-J(g)[0]+1;return ae(b,J(g)[0])}return d})}return{slideRegistry:l}}function Sn(t,e,n,i,a){const{reachedAny:s,removeOffset:o,constrain:c}=i;function r(d){return d.concat().sort((p,g)=>j(p)-j(g))[0]}function l(d){const p=t?o(d):c(d),g=e.map((v,b)=>({diff:h(v-p,0),index:b})).sort((v,b)=>j(v.diff)-j(b.diff)),{index:u}=g[0];return{index:u,distance:p}}function h(d,p){const g=[d,d+n,d-n];if(!t)return d;if(!p)return r(g);const u=g.filter(v=>Rt(v)===p);return u.length?r(u):J(g)-n}function f(d,p){const g=e[d]-a.get(),u=h(g,p);return{index:d,distance:u}}function m(d,p){const g=a.get()+d,{index:u,distance:v}=l(g),b=!t&&s(g);if(!p||b)return{index:u,distance:d};const E=e[u]-v,A=d+h(E,0);return{index:u,distance:A}}return{byDistance:m,byIndex:f,shortcut:h}}function _n(t,e,n,i,a,s,o){function c(f){const m=f.distance,y=f.index!==e.get();s.add(m),m&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function r(f,m){const y=a.byDistance(f,m);c(y)}function l(f,m){const y=e.clone().set(f),d=a.byIndex(y.get(),m);c(d)}return{distance:r,index:l}}function Ln(t,e,n,i,a,s,o,c){const r={passive:!0,capture:!0};let l=0;function h(y){if(!c)return;function d(p){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const v=n.findIndex(b=>b.includes(p));$t(v)&&(a.useDuration(0),i.index(v,0),o.emit("slideFocus"))}s.add(document,"keydown",f,!1),e.forEach((p,g)=>{s.add(p,"focus",u=>{(Dt(c)||c(y,u))&&d(g)},r)})}function f(y){y.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function yt(t){let e=t;function n(){return e}function i(r){e=o(r)}function a(r){e+=o(r)}function s(r){e-=o(r)}function o(r){return $t(r)?r:r.get()}return{get:n,set:i,add:a,subtract:s}}function he(t,e){const n=t.scroll==="x"?o:c,i=e.style;let a=null,s=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function c(m){return`translate3d(0px,${m}px,0px)`}function r(m){if(s)return;const y=sn(t.direction(m));y!==a&&(i.transform=n(y),a=y)}function l(m){s=!m}function h(){s||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:r,toggleActive:l}}function In(t,e,n,i,a,s,o,c,r){const h=_t(a),f=_t(a).reverse(),m=u().concat(v());function y(L,T){return L.reduce((_,w)=>_-a[w],T)}function d(L,T){return L.reduce((_,w)=>y(_,T)>0?_.concat([w]):_,[])}function p(L){return s.map((T,_)=>({start:T-i[_]+.5+L,end:T+e-.5+L}))}function g(L,T,_){const w=p(T);return L.map(k=>{const I=_?0:-n,P=_?n:0,M=_?"end":"start",z=w[k][M];return{index:k,loopPoint:z,slideLocation:yt(-1),translate:he(t,r[k]),target:()=>c.get()>z?I:P}})}function u(){const L=o[0],T=d(f,L);return g(T,n,!1)}function v(){const L=e-o[0]-1,T=d(h,L);return g(T,-n,!0)}function b(){return m.every(({index:L})=>{const T=h.filter(_=>_!==L);return y(T,e)<=.1})}function E(){m.forEach(L=>{const{target:T,translate:_,slideLocation:w}=L,k=T();k!==w.get()&&(_.to(k),w.set(k))})}function A(){m.forEach(L=>L.translate.clear())}return{canLoop:b,clear:A,loop:E,loopPoints:m}}function Tn(t,e,n){let i,a=!1;function s(r){if(!n)return;function l(h){for(const f of h)if(f.type==="childList"){r.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(h=>{a||(Dt(n)||n(r,h))&&l(h)}),i.observe(t,{childList:!0})}function o(){i&&i.disconnect(),a=!0}return{init:s,destroy:o}}function kn(t,e,n,i){const a={};let s=null,o=null,c,r=!1;function l(){c=new IntersectionObserver(d=>{r||(d.forEach(p=>{const g=e.indexOf(p.target);a[g]=p}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(d=>c.observe(d))}function h(){c&&c.disconnect(),r=!0}function f(d){return Lt(a).reduce((p,g)=>{const u=parseInt(g),{isIntersecting:v}=a[u];return(d&&v||!d&&!v)&&p.push(u),p},[])}function m(d=!0){if(d&&s)return s;if(!d&&o)return o;const p=f(d);return d&&(s=p),d||(o=p),p}return{init:l,destroy:h,get:m}}function En(t,e,n,i,a,s){const{measureSize:o,startEdge:c,endEdge:r}=t,l=n[0]&&a,h=d(),f=p(),m=n.map(o),y=g();function d(){if(!l)return 0;const v=n[0];return j(e[c]-v[c])}function p(){if(!l)return 0;const v=s.getComputedStyle(J(i));return parseFloat(v.getPropertyValue(`margin-${r}`))}function g(){return n.map((v,b,E)=>{const A=!b,O=Vt(E,b);return A?m[b]+h:O?m[b]+f:E[b+1][c]-v[c]}).map(j)}return{slideSizes:m,slideSizesWithGaps:y,startGap:h,endGap:f}}function On(t,e,n,i,a,s,o,c,r){const{startEdge:l,endEdge:h,direction:f}=t,m=$t(n);function y(u,v){return _t(u).filter(b=>b%v===0).map(b=>u.slice(b,b+v))}function d(u){return u.length?_t(u).reduce((v,b,E)=>{const A=J(v)||0,O=A===0,L=b===Tt(u),T=a[l]-s[A][l],_=a[l]-s[b][h],w=!i&&O?f(o):0,k=!i&&L?f(c):0,I=j(_-k-(T+w));return E&&I>e+r&&v.push(b),L&&v.push(u.length),v},[]).map((v,b,E)=>{const A=Math.max(E[b-1]||0);return u.slice(A,v)}):[]}function p(u){return m?y(u,n):d(u)}return{groupSlides:p}}function Dn(t,e,n,i,a,s,o){const{align:c,axis:r,direction:l,startIndex:h,loop:f,duration:m,dragFree:y,dragThreshold:d,inViewThreshold:p,slidesToScroll:g,skipSnaps:u,containScroll:v,watchResize:b,watchSlides:E,watchDrag:A,watchFocus:O}=s,L=2,T=fn(),_=T.measure(e),w=n.map(T.measure),k=an(r,l),I=k.measureSize(_),P=dn(I),M=rn(c,I),z=!f&&!!v,U=f||!!v,{slideSizes:G,slideSizesWithGaps:Q,startGap:X,endGap:W}=En(k,_,w,n,U,a),q=On(k,I,g,f,_,w,X,W,L),{snaps:Z,snapsAligned:tt}=xn(k,M,_,w,q),et=-J(Z)+J(Q),{snapsContained:gt,scrollContainLimit:ht}=hn(I,et,tt,v,L),H=z?gt:tt,{limit:R}=vn(et,H,f),nt=ge(Tt(H),h,f),K=nt.clone(),F=_t(n),x=({dragHandler:ft,scrollBody:Nt,scrollBounds:Pt,options:{loop:kt}})=>{kt||Pt.constrain(ft.pointerDown()),Nt.seek()},C=({scrollBody:ft,translate:Nt,location:Pt,offsetLocation:kt,previousLocation:be,scrollLooper:xe,slideLooper:we,dragHandler:Se,animation:_e,eventHandler:Qt,scrollBounds:Le,options:{loop:Xt}},Jt)=>{const Wt=ft.settled(),Ie=!Le.shouldConstrain(),Yt=Xt?Wt:Wt&&Ie,Zt=Yt&&!Se.pointerDown();Zt&&_e.stop();const Te=Pt.get()*Jt+be.get()*(1-Jt);kt.set(Te),Xt&&(xe.loop(ft.direction()),we.loop()),Nt.to(kt.get()),Zt&&Qt.emit("settle"),Yt||Qt.emit("scroll")},B=cn(i,a,()=>x(Ct),ft=>C(Ct,ft)),V=.68,Y=H[nt.get()],ot=yt(Y),ct=yt(Y),it=yt(Y),at=yt(Y),vt=pn(ot,it,ct,at,m,V),Mt=Sn(f,H,et,R,at),At=_n(B,nt,K,vt,Mt,at,o),Gt=bn(R),qt=It(),ve=kn(e,n,o,p),{slideRegistry:Kt}=wn(z,v,H,ht,q,F),ye=Ln(t,n,Kt,At,vt,qt,o,O),Ct={ownerDocument:i,ownerWindow:a,eventHandler:o,containerRect:_,slideRects:w,animation:B,axis:k,dragHandler:ln(k,t,i,a,at,un(k,a),ot,B,At,vt,Mt,nt,o,P,y,d,u,V,A),eventStore:qt,percentOfView:P,index:nt,indexPrevious:K,limit:R,location:ot,offsetLocation:it,previousLocation:ct,options:s,resizeHandler:mn(e,o,a,n,k,b,T),scrollBody:vt,scrollBounds:gn(R,it,at,vt,P),scrollLooper:yn(et,R,it,[ot,it,ct,at]),scrollProgress:Gt,scrollSnapList:H.map(Gt.get),scrollSnaps:H,scrollTarget:Mt,scrollTo:At,slideLooper:In(k,I,et,G,Q,Z,H,it,n),slideFocus:ye,slidesHandler:Tn(e,o,E),slidesInView:ve,slideIndexes:F,slideRegistry:Kt,slidesToScroll:q,target:at,translate:he(k,e)};return Ct}function Mn(){let t={},e;function n(l){e=l}function i(l){return t[l]||[]}function a(l){return i(l).forEach(h=>h(e,l)),r}function s(l,h){return t[l]=i(l).concat([h]),r}function o(l,h){return t[l]=i(l).filter(f=>f!==h),r}function c(){t={}}const r={init:n,emit:a,off:o,on:s,clear:c};return r}const An={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Cn(t){function e(s,o){return pe(s,o||{})}function n(s){const o=s.breakpoints||{},c=Lt(o).filter(r=>t.matchMedia(r).matches).map(r=>o[r]).reduce((r,l)=>e(r,l),{});return e(s,c)}function i(s){return s.map(o=>Lt(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:i}}function Nn(t){let e=[];function n(s,o){return e=o.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(s,t)),o.reduce((c,r)=>Object.assign(c,{[r.name]:r}),{})}function i(){e=e.filter(s=>s.destroy())}return{init:n,destroy:i}}function Et(t,e,n){const i=t.ownerDocument,a=i.defaultView,s=Cn(a),o=Nn(s),c=It(),r=Mn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:f}=s,{on:m,off:y,emit:d}=r,p=k;let g=!1,u,v=l(An,Et.globalOptions),b=l(v),E=[],A,O,L;function T(){const{container:F,slides:x}=b;O=(jt(F)?t.querySelector(F):F)||t.children[0];const B=jt(x)?O.querySelectorAll(x):x;L=[].slice.call(B||O.children)}function _(F){const x=Dn(t,O,L,i,a,F,r);if(F.loop&&!x.slideLooper.canLoop()){const C=Object.assign({},F,{loop:!1});return _(C)}return x}function w(F,x){g||(v=l(v,F),b=h(v),E=x||E,T(),u=_(b),f([v,...E.map(({options:C})=>C)]).forEach(C=>c.add(C,"change",k)),b.active&&(u.translate.to(u.location.get()),u.animation.init(),u.slidesInView.init(),u.slideFocus.init(K),u.eventHandler.init(K),u.resizeHandler.init(K),u.slidesHandler.init(K),u.options.loop&&u.slideLooper.loop(),O.offsetParent&&L.length&&u.dragHandler.init(K),A=o.init(K,E)))}function k(F,x){const C=q();I(),w(l({startIndex:C},F),x),r.emit("reInit")}function I(){u.dragHandler.destroy(),u.eventStore.clear(),u.translate.clear(),u.slideLooper.clear(),u.resizeHandler.destroy(),u.slidesHandler.destroy(),u.slidesInView.destroy(),u.animation.destroy(),o.destroy(),c.clear()}function P(){g||(g=!0,c.clear(),I(),r.emit("destroy"),r.clear())}function M(F,x,C){!b.active||g||(u.scrollBody.useBaseFriction().useDuration(x===!0?0:b.duration),u.scrollTo.index(F,C||0))}function z(F){const x=u.index.add(1).get();M(x,F,-1)}function U(F){const x=u.index.add(-1).get();M(x,F,1)}function G(){return u.index.add(1).get()!==q()}function Q(){return u.index.add(-1).get()!==q()}function X(){return u.scrollSnapList}function W(){return u.scrollProgress.get(u.offsetLocation.get())}function q(){return u.index.get()}function Z(){return u.indexPrevious.get()}function tt(){return u.slidesInView.get()}function et(){return u.slidesInView.get(!1)}function gt(){return A}function ht(){return u}function H(){return t}function R(){return O}function nt(){return L}const K={canScrollNext:G,canScrollPrev:Q,containerNode:R,internalEngine:ht,destroy:P,off:y,on:m,emit:d,plugins:gt,previousScrollSnap:Z,reInit:p,rootNode:H,scrollNext:z,scrollPrev:U,scrollProgress:W,scrollSnapList:X,scrollTo:M,selectedScrollSnap:q,slideNodes:nt,slidesInView:tt,slidesNotInView:et};return w(e,n),setTimeout(()=>r.emit("init"),0),K}Et.globalOptions=void 0;function Ht(t={},e=[]){const n=ee(t),i=ee(e);let a=n?t.value:t,s=i?e.value:e;const o=te(),c=te();function r(){c.value&&c.value.reInit(a,s)}return le(()=>{!en()||!o.value||(Et.globalOptions=Ht.globalOptions,c.value=Et(o.value,a,s))}),Ee(()=>{c.value&&c.value.destroy()}),n&&bt(t,l=>{zt(a,l)||(a=l,r())}),i&&bt(e,l=>{nn(s,l)||(s=l,r())}),[o,c]}Ht.globalOptions=void 0;const Pn={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Fn(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function jn(t,e){const n=t.rootNode();return e&&e(n)||n}function Ut(t={}){let e,n,i,a,s=null,o=0,c=!1,r=!1,l=!1,h=!1;function f(M,z){n=M;const{mergeOptions:U,optionsAtMedia:G}=z,Q=U(Pn,Ut.globalOptions),X=U(Q,t);if(e=G(X),n.scrollSnapList().length<=1)return;h=e.jump,i=!1,a=Fn(n,e.delay);const{eventStore:W,ownerDocument:q}=n.internalEngine(),Z=!!n.internalEngine().options.watchDrag,tt=jn(n,e.rootNode);W.add(q,"visibilitychange",u),Z&&n.on("pointerDown",b),Z&&!e.stopOnInteraction&&n.on("pointerUp",E),e.stopOnMouseEnter&&W.add(tt,"mouseenter",A),e.stopOnMouseEnter&&!e.stopOnInteraction&&W.add(tt,"mouseleave",O),e.stopOnFocusIn&&n.on("slideFocusStart",g),e.stopOnFocusIn&&!e.stopOnInteraction&&W.add(n.containerNode(),"focusout",p),e.playOnInit&&p()}function m(){n.off("pointerDown",b).off("pointerUp",E).off("slideFocusStart",g),g(),i=!0,c=!1}function y(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(o),o=M.setTimeout(k,a[n.selectedScrollSnap()]),s=new Date().getTime(),n.emit("autoplay:timerset")}function d(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(o),o=0,s=null,n.emit("autoplay:timerstopped")}function p(){if(!i){if(v()){l=!0;return}c||n.emit("autoplay:play"),y(),c=!0}}function g(){i||(c&&n.emit("autoplay:stop"),d(),c=!1)}function u(){if(v())return l=c,g();l&&p()}function v(){const{ownerDocument:M}=n.internalEngine();return M.visibilityState==="hidden"}function b(){r||g()}function E(){r||p()}function A(){r=!0,g()}function O(){r=!1,p()}function L(M){typeof M<"u"&&(h=M),p()}function T(){c&&g()}function _(){c&&p()}function w(){return c}function k(){const{index:M}=n.internalEngine(),z=M.clone().add(1).get(),U=n.scrollSnapList().length-1,G=e.stopOnLastSnap&&z===U;if(n.canScrollNext()?n.scrollNext(h):n.scrollTo(0,h),n.emit("autoplay:select"),G)return g();p()}function I(){if(!s)return null;const M=a[n.selectedScrollSnap()],z=new Date().getTime()-s;return M-z}return{name:"autoplay",options:t,init:f,destroy:m,play:L,stop:T,reset:_,isPlaying:w,timeUntilNext:I}}Ut.globalOptions=void 0;const Bn={key:0,class:"relative"},zn={class:"flex"},$n=["src","alt"],Rn={key:0,class:"absolute bottom-2 left-1/2 flex -translate-x-1/2 gap-1.5"},Vn={key:1,class:"flex h-40 items-center justify-center bg-gradient-to-r from-red-500 to-red-600"},Hn=Ot({__name:"BannerCarousel",props:{banners:{},imageBaseUrl:{default:""}},setup(t){const e=t,{localize:n}=de(),[i]=Ht({loop:!0},[Ut({delay:3e3,stopOnInteraction:!1})]),a=$(0),s=o=>o?o.startsWith("http")?o:`${e.imageBaseUrl}${o}`:"";return(o,c)=>t.banners.length>0?(D(),N("div",Bn,[S("div",{ref_key:"emblaRef",ref:i,class:"overflow-hidden"},[S("div",zn,[(D(!0),N(xt,null,wt(t.banners,(r,l)=>(D(),N("div",{key:r.id||l,class:"relative min-w-0 flex-[0_0_100%]"},[S("img",{src:s(r.pic||""),alt:rt(n)(r.lang_title,r.title),class:"h-40 w-full object-cover",onError:c[0]||(c[0]=h=>h.target.style.display="none")},null,40,$n)]))),128))])],512),t.banners.length>1?(D(),N("div",Rn,[(D(!0),N(xt,null,wt(t.banners,(r,l)=>(D(),N("span",{key:l,class:lt(["h-1.5 w-1.5 rounded-full transition-colors",l===a.value?"bg-white":"bg-white/50"])},null,2))),128))])):pt("",!0)])):(D(),N("div",Vn,[...c[1]||(c[1]=[S("span",{class:"text-lg font-bold text-white"},"È°∂Â≥∞28",-1)])]))}}),Un={class:"flex min-h-screen justify-center bg-[#eef3f8]"},Gn={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},qn={key:1,class:"px-3 pb-20 pt-3"},Kn={class:"grid grid-cols-4 gap-2 mb-3"},Qn={class:"mt-1 text-[12px] text-gray-700"},Xn={key:0,class:"mb-2"},Jn={class:"h-full overflow-hidden flex items-center"},Wn={class:"pl-16"},Yn={class:"mb-2 flex items-center justify-between text-[13px]"},Zn={class:"flex items-center gap-2"},to={class:"text-black font-bold"},eo={class:"mb-4 grid grid-cols-3 gap-2"},no=["src","alt"],oo={key:1,class:"col-span-3 text-center py-4 text-gray-400 text-sm"},so={key:1,class:"space-y-3"},ro=["href"],io=["href"],co={key:2,class:"space-y-3"},ao={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},lo={class:"bg-white rounded-2xl max-w-sm w-full max-h-[70vh] overflow-hidden shadow-2xl"},uo={class:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-500 to-red-600"},fo={class:"font-bold text-white text-lg"},mo={class:"p-4 overflow-y-auto max-h-[50vh]"},po=["innerHTML"],go={class:"p-4 border-t bg-gray-50"},ho={class:"bg-white w-[calc(100vw-32px)] max-w-lg max-h-[80vh] overflow-hidden flex flex-col rounded-2xl shadow-2xl"},vo={class:"flex items-center justify-between p-4 border-b"},yo={class:"flex-1 pr-4"},bo={class:"text-lg font-bold text-gray-900"},xo={key:0,class:"text-xs text-gray-500 mt-1"},wo={class:"flex-1 overflow-y-auto p-4"},So={key:0,class:"flex items-center justify-center py-8"},_o=["innerHTML"],Lo=Ot({__name:"index",setup(t){const{t:e}=ue(),{localize:n}=de(),i="https://img.kaixin28.com",a=$(!0),s=$(!0),o=$([]),c=$(null),r=$(null),l=$(!1),h=$(null),f=$([]),m=$(0),y=$(!1),d=$(null),p=$(null),g=$(!1),u=$(null),v=$(!1);let b=null;const E=De(()=>[{name:e("home.announcement"),icon:me,color:"bg-[#ffb84d]",href:"/index/announce"},{name:e("home.events"),icon:He,color:"bg-[#b47cff]",href:"/index/activities"},{name:e("home.rewards"),icon:Ue,color:"bg-[#ff6b6b]",href:"/mine/relief"},{name:e("home.partners"),icon:Ge,color:"bg-[#4ec5ff]",href:"/index/partners"}]),A=async()=>{try{a.value=!0,s.value=!0;const[_,w,k,I]=await Promise.all([Fe(),je({hot_count:6,new_count:3}),Be(),ze()]);_.code===200&&(o.value=_.data||[]),w.code===200&&(c.value=w.data),k.code===200&&k.data&&(h.value=k.data),s.value=!1,I.code===200&&I.data&&(f.value=I.data);const P=await $e();if(P.code===200&&P.data?.length>0){const M=P.data[0];r.value=M;const z=`home_popup_${M.id}`;sessionStorage.getItem(z)||(l.value=!0,sessionStorage.setItem(z,"true"))}}catch(_){console.error("Âä†ËΩΩÈ¶ñÈ°µÊï∞ÊçÆÂ§±Ë¥•:",_)}finally{a.value=!1}};bt(m,()=>{y.value=!1}),bt([m,()=>f.value,y],()=>{y.value||setTimeout(()=>{if(d.value&&p.value){const _=d.value.offsetWidth,w=p.value.scrollWidth;y.value=w>_}},50)},{immediate:!0}),bt([()=>f.value,m,y],()=>{if(b&&clearTimeout(b),f.value.length===0)return;const w=f.value[m.value]?.title?.length||0,k=y.value?Math.max(w*.25,5)*1e3+1e3:3e3;b=setTimeout(()=>{m.value=(m.value+1)%f.value.length},k)},{immediate:!0});const O=async _=>{g.value=!0,v.value=!0,u.value=_;try{const w=await Re(_.id);w?.code===200&&w?.data&&(u.value=w.data)}catch{}finally{v.value=!1}},L=()=>{g.value=!1},T=_=>Math.max(_.length*.2,6);return le(()=>{A()}),Oe(()=>{b&&clearTimeout(b)}),(_,w)=>{const k=Ae("router-link");return D(),N("div",Un,[S("div",Gn,[mt(Ze),a.value?(D(),dt(Je,{key:0})):(D(),N("main",qn,[S("section",Kn,[(D(!0),N(xt,null,wt(E.value,(I,P)=>(D(),dt(k,{key:I.href,to:I.href,class:"flex flex-col items-center justify-center text-[13px] relative transform transition-transform duration-200 hover:scale-105 active:scale-95",style:oe({animationDelay:`${P*50}ms`})},{default:Ft(()=>[S("div",{class:lt(["flex h-11 w-11 items-center justify-center rounded-lg text-xl text-white shadow-md relative transition-shadow hover:shadow-lg",I.color])},[(D(),dt(Ce(I.icon),{class:"h-5 w-5"}))],2),S("span",Qn,st(I.name),1)]),_:2},1032,["to","style"]))),128))]),mt(Hn,{banners:o.value,"image-base-url":rt(i),class:"mb-3"},null,8,["banners","image-base-url"]),f.value.length>0?(D(),N("section",Xn,[S("div",{class:"bg-gradient-to-r from-[#fff8e6] to-[#fff2d6] rounded-md px-2 py-1 flex items-center gap-1.5 shadow-sm border border-[#ffe4a0] cursor-pointer hover:shadow-md transition-shadow active:scale-[0.99]",onClick:w[0]||(w[0]=I=>O(f.value[m.value]))},[w[3]||(w[3]=S("div",{class:"flex-shrink-0 text-sm"}," üì¢ ",-1)),S("div",{ref_key:"noticeContainerRef",ref:d,class:"flex-1 overflow-hidden relative h-3.5"},[(D(!0),N(xt,null,wt(f.value,(I,P)=>(D(),N("div",{key:I.id,class:lt(["absolute inset-0 transition-all duration-500 ease-in-out",P===m.value?"opacity-100 translate-y-0":"opacity-0 translate-y-4"])},[S("div",Jn,[y.value&&P===m.value?(D(),N("div",{key:0,class:"inline-flex whitespace-nowrap text-sm text-[#8b5a00] animate-marquee-text",style:oe({animationDuration:`${T(I.title)}s`})},[S("span",null,st(I.title),1),S("span",Wn,st(I.title),1)],4)):(D(),N("span",{key:1,ref_for:!0,ref:P===m.value?M=>p.value=M:void 0,class:"text-sm text-[#8b5a00] whitespace-nowrap"},st(I.title),513))])],2))),128))],512)])])):pt("",!0),S("section",Yn,[S("div",Zn,[w[4]||(w[4]=S("span",{class:"w-1 h-4 bg-red-500 rounded-full"},null,-1)),S("span",to,st(rt(e)("home.hot-games")),1)])]),S("section",eo,[c.value?.hot&&c.value.hot.length>0?(D(!0),N(xt,{key:0},wt(c.value.hot,(I,P)=>(D(),dt(k,{key:"hot-games"+P,to:`/games?lottery_id=${I.id}`,class:"block transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 rounded-md overflow-hidden"},{default:Ft(()=>[S("img",{src:I.logo||"",alt:I.name||"",class:"w-full rounded-md"},null,8,no)]),_:2},1032,["to"]))),128)):(D(),N("div",oo," ÊöÇÊó†ÁÉ≠Èó®Ê∏∏Êàè "))]),!s.value&&h.value?(D(),N("section",so,[S("a",{href:h.value.pc_url,class:"block"},[...w[5]||(w[5]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÁîµËÑëÁâà ",-1)])],8,ro),S("a",{href:h.value.customer_link,class:"block"},[...w[6]||(w[6]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ËÅîÁ≥ªÂÆ¢Êúç ",-1)])],8,io)])):s.value?(D(),N("section",co,[...w[7]||(w[7]=[S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1),S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1)])])):pt("",!0)])),(D(),dt(ne,{to:"body"},[l.value&&r.value?(D(),N("div",ao,[S("div",lo,[S("div",uo,[S("h3",fo,st(rt(n)(r.value.lang_title,r.value.title)),1),S("button",{onClick:w[1]||(w[1]=I=>l.value=!1),class:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/20 transition-colors"},[mt(rt(se),{class:"h-5 w-5"})])]),S("div",mo,[S("div",{class:"text-sm text-gray-600 leading-relaxed",innerHTML:rt(n)(r.value.lang_content,r.value.content)},null,8,po)]),S("div",go,[S("button",{onClick:w[2]||(w[2]=I=>l.value=!1),class:"w-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-white rounded-full py-3 text-sm font-bold hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÊàëÁü•ÈÅì‰∫Ü ")])])])):pt("",!0)])),(D(),dt(ne,{to:"body"},[mt(Me,{name:"dialog"},{default:Ft(()=>[g.value?(D(),N("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:Ne(L,["self"])},[S("div",ho,[S("div",vo,[S("div",yo,[S("h3",bo,st(u.value?.title),1),u.value?.created_at?(D(),N("div",xo," ÂèëÂ∏É‰∫é "+st(u.value.created_at),1)):pt("",!0)]),S("button",{onClick:L,class:"p-1.5 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0"},[mt(rt(se),{class:"h-5 w-5"})])]),S("div",wo,[v.value?(D(),N("div",So,[...w[8]||(w[8]=[S("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1)])])):(D(),N("div",{key:1,class:"text-sm text-gray-700 leading-7 prose prose-sm max-w-none",innerHTML:u.value?.content||""},null,8,_o))])])])):pt("",!0)]),_:1})]))])])}}}),jo=fe(Lo,[["__scopeId","data-v-047542f4"]]);export{jo as default};
