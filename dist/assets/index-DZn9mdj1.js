import{d as x,o as w,q as a,l as t,f as i,u as c,r as d,F as f,t as u,B as g,A as b,v as o,k,n as B,z as h,M as C}from"./vue-vendor-ntQnFNWs.js";import{e as j}from"./home-C9KJJQek.js";import{C as S}from"./chevron-left-DHZYbvND.js";import{S as z}from"./star-C7y6azNU.js";import"./index-BvHA6CJ8.js";import"./utils-vendor-CbLx3nH2.js";const D={class:"flex min-h-screen justify-center bg-[#eef3f8]"},$={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},A={class:"sticky top-0 z-40 bg-gradient-to-r from-red-600 to-red-500"},F={class:"flex h-12 items-center justify-between px-3"},L={class:"px-3 pb-20 pt-3"},M={class:"space-y-3"},N={key:1,class:"flex flex-col items-center justify-center py-16 text-gray-400"},V={key:0,class:"relative overflow-hidden"},q=["src","alt"],E={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3"},R={class:"text-white font-bold text-sm truncate"},G={key:1,class:"p-4"},H={class:"font-bold text-gray-900"},U=x({__name:"index",setup(I){const m=g(),n=d([]),r=d(!0),p=()=>{m.back()},v=async()=>{try{r.value=!0;const{code:l,data:e}=await j();l===200&&e&&(n.value=e)}catch(l){console.error("获取活动列表失败:",l)}finally{r.value=!1}};return w(()=>{v()}),(l,e)=>{const _=b("router-link");return o(),a("div",D,[t("div",$,[t("header",A,[t("div",F,[t("button",{onClick:p,class:"flex items-center text-white"},[i(c(S),{class:"h-5 w-5"})]),e[0]||(e[0]=t("span",{class:"text-white font-bold"},"近期活动",-1)),e[1]||(e[1]=t("div",{class:"w-5"},null,-1))])]),t("main",L,[t("section",M,[r.value?(o(),a(f,{key:0},u(3,s=>t("div",{key:`skeleton-${s}`,class:"bg-white rounded-xl shadow-sm overflow-hidden"},[...e[2]||(e[2]=[t("div",{class:"w-full aspect-[2/1] bg-gray-200 animate-pulse"},null,-1)])])),64)):n.value.length===0?(o(),a("div",N,[i(c(z),{class:"h-16 w-16 mb-4 text-gray-300"}),e[3]||(e[3]=t("p",{class:"text-sm"},"暂无活动",-1))])):(o(!0),a(f,{key:2},u(n.value,(s,y)=>(o(),k(_,{key:s.id,to:`/index/activities/${s.id}`,class:"block w-full bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",style:C({animationDelay:`${y*80}ms`})},{default:B(()=>[s.pic?(o(),a("div",V,[t("img",{src:s.pic,alt:s.title,class:"w-full object-cover transition-transform duration-500 hover:scale-110"},null,8,q),t("div",E,[t("h3",R,h(s.title),1)])])):(o(),a("div",G,[t("h3",H,h(s.title),1)]))]),_:2},1032,["to","style"]))),128))])])])])}}});export{U as default};
