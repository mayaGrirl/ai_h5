import{d as Ot,q as N,x as ut,l as w,z as tt,u as X,v as D,f as lt,B as Ee,o as fe,s as ne,N as Oe,w as xt,i as oe,J as pt,F as bt,t as wt,r as $,b as De,k as mt,c as Me,p as se,n as Ft,K as Ae,C as Ce,A as Ne,y as Pe,M as re}from"./vue-vendor-ntQnFNWs.js";import{c as Fe,a as $t,_ as de,u as ze,L as zt}from"./index-DKPP7pX5.js";import{g as Be,i as je,a as $e,b as Re,c as Ve,d as He}from"./home-m44ZmvYT.js";import{u as me}from"./useLocalized-DW37D4si.js";import{_ as Ge}from"./login-logo-DOFsqlSQ.js";import{B as pe}from"./bell-Dpq0m51F.js";import{X as ie}from"./x-QH-I_HHJ.js";import{S as Ue}from"./star-sQWtiXz_.js";import{G as qe}from"./gift-By8dWAWP.js";import{U as Ke}from"./users-round-C5BoCbYd.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Fe("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Qe={class:"flex flex-col items-center gap-3"},Xe={class:"relative"},We={class:"text-sm text-gray-500 animate-pulse"},Ye=Ot({__name:"PageLoading",props:{size:{default:"md"},text:{},fullScreen:{type:Boolean,default:!1}},setup(t){const{t:e}=$t(),n={sm:"h-5 w-5 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"};return(i,a)=>(D(),N("div",{class:ut(["flex items-center justify-center",t.fullScreen?"fixed inset-0 bg-white/80 backdrop-blur-sm z-50":"h-40"])},[w("div",Qe,[w("div",Xe,[w("div",{class:ut(["rounded-full border-gray-200 animate-pulse",n[t.size]])},null,2),w("div",{class:ut(["absolute inset-0 rounded-full border-transparent border-t-red-500 border-r-red-500/50 spin-smooth",n[t.size]])},null,2),w("div",{class:ut(["absolute inset-0 rounded-full border-transparent border-b-orange-400/30 spin-smooth",n[t.size]]),style:{"animation-duration":"1.5s","animation-direction":"reverse"}},null,2)]),w("span",We,tt(t.text||X(e)("common.loading")),1)])],2))}}),Ze=de(Ye,[["__scopeId","data-v-ea88b5b5"]]),tn={class:"sticky top-0 z-40 flex h-12 items-center justify-between bg-gradient-to-r from-red-600 to-red-500 px-4"},en={class:"flex items-center gap-3"},nn=Ot({__name:"HomeHeader",setup(t){const e=Ee(),{locale:n}=$t(),i=ze(),a={zh:"‰∏≠Êñá",en:"EN",fr:"FR"},s=()=>{const r=(zt.indexOf(n.value)+1)%zt.length,l=zt[r];n.value=l},o=()=>{i.isLogin?e.push("/mine/message"):e.push("/auth/login")};return(c,r)=>(D(),N("header",tn,[r[0]||(r[0]=w("div",{class:"flex items-center gap-2"},[w("img",{src:Ge,alt:"Logo",class:"h-8 w-8 rounded-lg"}),w("span",{class:"font-bold text-white"},"È°∂Â≥∞28")],-1)),w("div",en,[w("button",{onClick:s,class:"flex items-center gap-1 rounded-full bg-white/20 px-2 py-1 text-xs text-white"},[lt(X(Je),{class:"h-3.5 w-3.5"}),w("span",null,tt(a[X(n)]),1)]),w("button",{onClick:o,class:"relative text-white"},[lt(X(pe),{class:"h-5 w-5"})])])]))}});function on(t){return Object.prototype.toString.call(t)==="[object Object]"}function ce(t){return on(t)||Array.isArray(t)}function sn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Rt(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==s?!1:n.every(o=>{const c=t[o],r=e[o];return typeof c=="function"?`${c}`==`${r}`:!ce(c)||!ce(r)?c===r:Rt(c,r)})}function ae(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function rn(t,e){if(t.length!==e.length)return!1;const n=ae(t),i=ae(e);return n.every((a,s)=>{const o=i[s];return Rt(a,o)})}function Vt(t){return typeof t=="number"}function Bt(t){return typeof t=="string"}function Dt(t){return typeof t=="boolean"}function le(t){return Object.prototype.toString.call(t)==="[object Object]"}function z(t){return Math.abs(t)}function Ht(t){return Math.sign(t)}function St(t,e){return z(t-e)}function cn(t,e){if(t===0||e===0||z(t)<=z(e))return 0;const n=St(z(t),z(e));return z(n/t)}function an(t){return Math.round(t*100)/100}function _t(t){return Lt(t).map(Number)}function W(t){return t[kt(t)]}function kt(t){return Math.max(0,t.length-1)}function Gt(t,e){return e===kt(t)}function ue(t,e=0){return Array.from(Array(t),(n,i)=>e+i)}function Lt(t){return Object.keys(t)}function ge(t,e){return[t,e].reduce((n,i)=>(Lt(i).forEach(a=>{const s=n[a],o=i[a],c=le(s)&&le(o);n[a]=c?ge(s,o):o}),n),{})}function jt(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function ln(t,e){const n={start:i,center:a,end:s};function i(){return 0}function a(r){return s(r)/2}function s(r){return e-r}function o(r,l){return Bt(t)?n[t](r):t(e,r,l)}return{measure:o}}function It(){let t=[];function e(a,s,o,c={passive:!0}){let r;if("addEventListener"in a)a.addEventListener(s,o,c),r=()=>a.removeEventListener(s,o,c);else{const l=a;l.addListener(o),r=()=>l.removeListener(o)}return t.push(r),i}function n(){t=t.filter(a=>a())}const i={add:e,clear:n};return i}function un(t,e,n,i){const a=It(),s=1e3/60;let o=null,c=0,r=0;function l(){a.add(t,"visibilitychange",()=>{t.hidden&&d()})}function h(){y(),a.clear()}function f(g){if(!r)return;o||(o=g,n(),n());const u=g-o;for(o=g,c+=u;c>=s;)n(),c-=s;const v=c/s;i(v),r&&(r=e.requestAnimationFrame(f))}function m(){r||(r=e.requestAnimationFrame(f))}function y(){e.cancelAnimationFrame(r),o=null,c=0,r=0}function d(){o=null,c=0}return{init:l,destroy:h,start:m,stop:y,update:n,render:i}}function fn(t,e){const n=e==="rtl",i=t==="y",a=i?"y":"x",s=i?"x":"y",o=!i&&n?-1:1,c=h(),r=f();function l(d){const{height:p,width:g}=d;return i?p:g}function h(){return i?"top":n?"right":"left"}function f(){return i?"bottom":n?"left":"right"}function m(d){return d*o}return{scroll:a,cross:s,startEdge:c,endEdge:r,measureSize:l,direction:m}}function ft(t=0,e=0){const n=z(t-e);function i(l){return l<t}function a(l){return l>e}function s(l){return i(l)||a(l)}function o(l){return s(l)?i(l)?t:e:l}function c(l){return n?l-n*Math.ceil((l-e)/n):l}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:a,reachedMin:i,removeOffset:c}}function he(t,e,n){const{constrain:i}=ft(0,t),a=t+1;let s=o(e);function o(m){return n?z((a+m)%a):i(m)}function c(){return s}function r(m){return s=o(m),f}function l(m){return h().set(c()+m)}function h(){return he(t,c(),n)}const f={get:c,set:r,add:l,clone:h};return f}function dn(t,e,n,i,a,s,o,c,r,l,h,f,m,y,d,p,g,u,v){const{cross:x,direction:E}=t,A=["INPUT","SELECT","TEXTAREA"],O={passive:!1},L=It(),T=It(),_=ft(50,225).constrain(y.measure(20)),S={mouse:300,touch:400},I={mouse:500,touch:600},k=d?43:25;let P=!1,M=0,j=0,G=!1,U=!1,J=!1,Q=!1;function Y(b){if(!v)return;function C(V){(Dt(v)||v(b,V))&&ht(V)}const B=e;L.add(B,"dragstart",V=>V.preventDefault(),O).add(B,"touchmove",()=>{},O).add(B,"touchend",()=>{}).add(B,"touchstart",C).add(B,"mousedown",C).add(B,"touchcancel",R).add(B,"contextmenu",R).add(B,"click",st,!0)}function q(){L.clear(),T.clear()}function et(){const b=Q?n:e;T.add(b,"touchmove",H,O).add(b,"touchend",R).add(b,"mousemove",H,O).add(b,"mouseup",R)}function nt(b){const C=b.nodeName||"";return A.includes(C)}function ot(){return(d?I:S)[Q?"mouse":"touch"]}function gt(b,C){const B=f.add(Ht(b)*-1),V=h.byDistance(b,!d).distance;return d||z(b)<_?V:g&&C?V*.5:h.byIndex(B.get(),0).distance}function ht(b){const C=jt(b,i);Q=C,J=d&&C&&!b.buttons&&P,P=St(a.get(),o.get())>=2,!(C&&b.button!==0)&&(nt(b.target)||(G=!0,s.pointerDown(b),l.useFriction(0).useDuration(0),a.set(o),et(),M=s.readPoint(b),j=s.readPoint(b,x),m.emit("pointerDown")))}function H(b){if(!jt(b,i)&&b.touches.length>=2)return R(b);const B=s.readPoint(b),V=s.readPoint(b,x),Z=St(B,M),rt=St(V,j);if(!U&&!Q&&(!b.cancelable||(U=Z>rt,!U)))return R(b);const ct=s.pointerMove(b);Z>p&&(J=!0),l.useFriction(.3).useDuration(.75),c.start(),a.add(E(ct)),b.preventDefault()}function R(b){const B=h.byDistance(0,!1).index!==f.get(),V=s.pointerUp(b)*ot(),Z=gt(E(V),B),rt=cn(V,Z),ct=k-10*rt,it=u+rt/50;U=!1,G=!1,T.clear(),l.useDuration(ct).useFriction(it),r.distance(Z,!d),Q=!1,m.emit("pointerUp")}function st(b){J&&(b.stopPropagation(),b.preventDefault(),J=!1)}function K(){return G}return{init:Y,destroy:q,pointerDown:K}}function mn(t,e){let i,a;function s(f){return f.timeStamp}function o(f,m){const d=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(jt(f,e)?f:f.touches[0])[d]}function c(f){return i=f,a=f,o(f)}function r(f){const m=o(f)-o(a),y=s(f)-s(i)>170;return a=f,y&&(i=f),m}function l(f){if(!i||!a)return 0;const m=o(a)-o(i),y=s(f)-s(i),d=s(f)-s(a)>170,p=m/y;return y&&!d&&z(p)>.1?p:0}return{pointerDown:c,pointerMove:r,pointerUp:l,readPoint:o}}function pn(){function t(n){const{offsetTop:i,offsetLeft:a,offsetWidth:s,offsetHeight:o}=n;return{top:i,right:a+s,bottom:i+o,left:a,width:s,height:o}}return{measure:t}}function gn(t){function e(i){return t*(i/100)}return{measure:e}}function hn(t,e,n,i,a,s,o){const c=[t].concat(i);let r,l,h=[],f=!1;function m(g){return a.measureSize(o.measure(g))}function y(g){if(!s)return;l=m(t),h=i.map(m);function u(v){for(const x of v){if(f)return;const E=x.target===t,A=i.indexOf(x.target),O=E?l:h[A],L=m(E?t:i[A]);if(z(L-O)>=.5){g.reInit(),e.emit("resize");break}}}r=new ResizeObserver(v=>{(Dt(s)||s(g,v))&&u(v)}),n.requestAnimationFrame(()=>{c.forEach(v=>r.observe(v))})}function d(){f=!0,r&&r.disconnect()}return{init:y,destroy:d}}function vn(t,e,n,i,a,s){let o=0,c=0,r=a,l=s,h=t.get(),f=0;function m(){const O=i.get()-t.get(),L=!r;let T=0;return L?(o=0,n.set(i),t.set(i),T=O):(n.set(t),o+=O/r,o*=l,h+=o,t.add(o),T=h-f),c=Ht(T),f=h,A}function y(){const O=i.get()-e.get();return z(O)<.001}function d(){return r}function p(){return c}function g(){return o}function u(){return x(a)}function v(){return E(s)}function x(O){return r=O,A}function E(O){return l=O,A}const A={direction:p,duration:d,velocity:g,seek:m,settled:y,useBaseFriction:v,useBaseDuration:u,useFriction:E,useDuration:x};return A}function yn(t,e,n,i,a){const s=a.measure(10),o=a.measure(50),c=ft(.1,.99);let r=!1;function l(){return!(r||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(y){if(!l())return;const d=t.reachedMin(e.get())?"min":"max",p=z(t[d]-e.get()),g=n.get()-e.get(),u=c.constrain(p/o);n.subtract(g*u),!y&&z(g)<s&&(n.set(t.constrain(n.get())),i.useDuration(25).useBaseFriction())}function f(y){r=!y}return{shouldConstrain:l,constrain:h,toggleActive:f}}function xn(t,e,n,i,a){const s=ft(-e+t,0),o=f(),c=h(),r=m();function l(d,p){return St(d,p)<=1}function h(){const d=o[0],p=W(o),g=o.lastIndexOf(d),u=o.indexOf(p)+1;return ft(g,u)}function f(){return n.map((d,p)=>{const{min:g,max:u}=s,v=s.constrain(d),x=!p,E=Gt(n,p);return x?u:E||l(g,v)?g:l(u,v)?u:v}).map(d=>parseFloat(d.toFixed(3)))}function m(){if(e<=t+a)return[s.max];if(i==="keepSnaps")return o;const{min:d,max:p}=c;return o.slice(d,p)}return{snapsContained:r,scrollContainLimit:c}}function bn(t,e,n){const i=e[0],a=n?i-t:W(e);return{limit:ft(a,i)}}function wn(t,e,n,i){const s=e.min+.1,o=e.max+.1,{reachedMin:c,reachedMax:r}=ft(s,o);function l(m){return m===1?r(n.get()):m===-1?c(n.get()):!1}function h(m){if(!l(m))return;const y=t*(m*-1);i.forEach(d=>d.add(y))}return{loop:h}}function Sn(t){const{max:e,length:n}=t;function i(s){const o=s-e;return n?o/-n:0}return{get:i}}function _n(t,e,n,i,a){const{startEdge:s,endEdge:o}=t,{groupSlides:c}=a,r=f().map(e.measure),l=m(),h=y();function f(){return c(i).map(p=>W(p)[o]-p[0][s]).map(z)}function m(){return i.map(p=>n[s]-p[s]).map(p=>-z(p))}function y(){return c(l).map(p=>p[0]).map((p,g)=>p+r[g])}return{snaps:l,snapsAligned:h}}function Ln(t,e,n,i,a,s){const{groupSlides:o}=a,{min:c,max:r}=i,l=h();function h(){const m=o(s),y=!t||e==="keepSnaps";return n.length===1?[s]:y?m:m.slice(c,r).map((d,p,g)=>{const u=!p,v=Gt(g,p);if(u){const x=W(g[0])+1;return ue(x)}if(v){const x=kt(s)-W(g)[0]+1;return ue(x,W(g)[0])}return d})}return{slideRegistry:l}}function In(t,e,n,i,a){const{reachedAny:s,removeOffset:o,constrain:c}=i;function r(d){return d.concat().sort((p,g)=>z(p)-z(g))[0]}function l(d){const p=t?o(d):c(d),g=e.map((v,x)=>({diff:h(v-p,0),index:x})).sort((v,x)=>z(v.diff)-z(x.diff)),{index:u}=g[0];return{index:u,distance:p}}function h(d,p){const g=[d,d+n,d-n];if(!t)return d;if(!p)return r(g);const u=g.filter(v=>Ht(v)===p);return u.length?r(u):W(g)-n}function f(d,p){const g=e[d]-a.get(),u=h(g,p);return{index:d,distance:u}}function m(d,p){const g=a.get()+d,{index:u,distance:v}=l(g),x=!t&&s(g);if(!p||x)return{index:u,distance:d};const E=e[u]-v,A=d+h(E,0);return{index:u,distance:A}}return{byDistance:m,byIndex:f,shortcut:h}}function kn(t,e,n,i,a,s,o){function c(f){const m=f.distance,y=f.index!==e.get();s.add(m),m&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function r(f,m){const y=a.byDistance(f,m);c(y)}function l(f,m){const y=e.clone().set(f),d=a.byIndex(y.get(),m);c(d)}return{distance:r,index:l}}function Tn(t,e,n,i,a,s,o,c){const r={passive:!0,capture:!0};let l=0;function h(y){if(!c)return;function d(p){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const v=n.findIndex(x=>x.includes(p));Vt(v)&&(a.useDuration(0),i.index(v,0),o.emit("slideFocus"))}s.add(document,"keydown",f,!1),e.forEach((p,g)=>{s.add(p,"focus",u=>{(Dt(c)||c(y,u))&&d(g)},r)})}function f(y){y.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function yt(t){let e=t;function n(){return e}function i(r){e=o(r)}function a(r){e+=o(r)}function s(r){e-=o(r)}function o(r){return Vt(r)?r:r.get()}return{get:n,set:i,add:a,subtract:s}}function ve(t,e){const n=t.scroll==="x"?o:c,i=e.style;let a=null,s=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function c(m){return`translate3d(0px,${m}px,0px)`}function r(m){if(s)return;const y=an(t.direction(m));y!==a&&(i.transform=n(y),a=y)}function l(m){s=!m}function h(){s||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:r,toggleActive:l}}function En(t,e,n,i,a,s,o,c,r){const h=_t(a),f=_t(a).reverse(),m=u().concat(v());function y(L,T){return L.reduce((_,S)=>_-a[S],T)}function d(L,T){return L.reduce((_,S)=>y(_,T)>0?_.concat([S]):_,[])}function p(L){return s.map((T,_)=>({start:T-i[_]+.5+L,end:T+e-.5+L}))}function g(L,T,_){const S=p(T);return L.map(I=>{const k=_?0:-n,P=_?n:0,M=_?"end":"start",j=S[I][M];return{index:I,loopPoint:j,slideLocation:yt(-1),translate:ve(t,r[I]),target:()=>c.get()>j?k:P}})}function u(){const L=o[0],T=d(f,L);return g(T,n,!1)}function v(){const L=e-o[0]-1,T=d(h,L);return g(T,-n,!0)}function x(){return m.every(({index:L})=>{const T=h.filter(_=>_!==L);return y(T,e)<=.1})}function E(){m.forEach(L=>{const{target:T,translate:_,slideLocation:S}=L,I=T();I!==S.get()&&(_.to(I),S.set(I))})}function A(){m.forEach(L=>L.translate.clear())}return{canLoop:x,clear:A,loop:E,loopPoints:m}}function On(t,e,n){let i,a=!1;function s(r){if(!n)return;function l(h){for(const f of h)if(f.type==="childList"){r.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(h=>{a||(Dt(n)||n(r,h))&&l(h)}),i.observe(t,{childList:!0})}function o(){i&&i.disconnect(),a=!0}return{init:s,destroy:o}}function Dn(t,e,n,i){const a={};let s=null,o=null,c,r=!1;function l(){c=new IntersectionObserver(d=>{r||(d.forEach(p=>{const g=e.indexOf(p.target);a[g]=p}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(d=>c.observe(d))}function h(){c&&c.disconnect(),r=!0}function f(d){return Lt(a).reduce((p,g)=>{const u=parseInt(g),{isIntersecting:v}=a[u];return(d&&v||!d&&!v)&&p.push(u),p},[])}function m(d=!0){if(d&&s)return s;if(!d&&o)return o;const p=f(d);return d&&(s=p),d||(o=p),p}return{init:l,destroy:h,get:m}}function Mn(t,e,n,i,a,s){const{measureSize:o,startEdge:c,endEdge:r}=t,l=n[0]&&a,h=d(),f=p(),m=n.map(o),y=g();function d(){if(!l)return 0;const v=n[0];return z(e[c]-v[c])}function p(){if(!l)return 0;const v=s.getComputedStyle(W(i));return parseFloat(v.getPropertyValue(`margin-${r}`))}function g(){return n.map((v,x,E)=>{const A=!x,O=Gt(E,x);return A?m[x]+h:O?m[x]+f:E[x+1][c]-v[c]}).map(z)}return{slideSizes:m,slideSizesWithGaps:y,startGap:h,endGap:f}}function An(t,e,n,i,a,s,o,c,r){const{startEdge:l,endEdge:h,direction:f}=t,m=Vt(n);function y(u,v){return _t(u).filter(x=>x%v===0).map(x=>u.slice(x,x+v))}function d(u){return u.length?_t(u).reduce((v,x,E)=>{const A=W(v)||0,O=A===0,L=x===kt(u),T=a[l]-s[A][l],_=a[l]-s[x][h],S=!i&&O?f(o):0,I=!i&&L?f(c):0,k=z(_-I-(T+S));return E&&k>e+r&&v.push(x),L&&v.push(u.length),v},[]).map((v,x,E)=>{const A=Math.max(E[x-1]||0);return u.slice(A,v)}):[]}function p(u){return m?y(u,n):d(u)}return{groupSlides:p}}function Cn(t,e,n,i,a,s,o){const{align:c,axis:r,direction:l,startIndex:h,loop:f,duration:m,dragFree:y,dragThreshold:d,inViewThreshold:p,slidesToScroll:g,skipSnaps:u,containScroll:v,watchResize:x,watchSlides:E,watchDrag:A,watchFocus:O}=s,L=2,T=pn(),_=T.measure(e),S=n.map(T.measure),I=fn(r,l),k=I.measureSize(_),P=gn(k),M=ln(c,k),j=!f&&!!v,G=f||!!v,{slideSizes:U,slideSizesWithGaps:J,startGap:Q,endGap:Y}=Mn(I,_,S,n,G,a),q=An(I,k,g,f,_,S,Q,Y,L),{snaps:et,snapsAligned:nt}=_n(I,M,_,S,q),ot=-W(et)+W(J),{snapsContained:gt,scrollContainLimit:ht}=xn(k,ot,nt,v,L),H=j?gt:nt,{limit:R}=bn(ot,H,f),st=he(kt(H),h,f),K=st.clone(),F=_t(n),b=({dragHandler:dt,scrollBody:Nt,scrollBounds:Pt,options:{loop:Tt}})=>{Tt||Pt.constrain(dt.pointerDown()),Nt.seek()},C=({scrollBody:dt,translate:Nt,location:Pt,offsetLocation:Tt,previousLocation:be,scrollLooper:we,slideLooper:Se,dragHandler:_e,animation:Le,eventHandler:Xt,scrollBounds:Ie,options:{loop:Wt}},Yt)=>{const Zt=dt.settled(),ke=!Ie.shouldConstrain(),te=Wt?Zt:Zt&&ke,ee=te&&!_e.pointerDown();ee&&Le.stop();const Te=Pt.get()*Yt+be.get()*(1-Yt);Tt.set(Te),Wt&&(we.loop(dt.direction()),Se.loop()),Nt.to(Tt.get()),ee&&Xt.emit("settle"),te||Xt.emit("scroll")},B=un(i,a,()=>b(Ct),dt=>C(Ct,dt)),V=.68,Z=H[st.get()],rt=yt(Z),ct=yt(Z),it=yt(Z),at=yt(Z),vt=vn(rt,it,ct,at,m,V),Mt=In(f,H,ot,R,at),At=kn(B,st,K,vt,Mt,at,o),Kt=Sn(R),Jt=It(),ye=Dn(e,n,o,p),{slideRegistry:Qt}=Ln(j,v,H,ht,q,F),xe=Tn(t,n,Qt,At,vt,Jt,o,O),Ct={ownerDocument:i,ownerWindow:a,eventHandler:o,containerRect:_,slideRects:S,animation:B,axis:I,dragHandler:dn(I,t,i,a,at,mn(I,a),rt,B,At,vt,Mt,st,o,P,y,d,u,V,A),eventStore:Jt,percentOfView:P,index:st,indexPrevious:K,limit:R,location:rt,offsetLocation:it,previousLocation:ct,options:s,resizeHandler:hn(e,o,a,n,I,x,T),scrollBody:vt,scrollBounds:yn(R,it,at,vt,P),scrollLooper:wn(ot,R,it,[rt,it,ct,at]),scrollProgress:Kt,scrollSnapList:H.map(Kt.get),scrollSnaps:H,scrollTarget:Mt,scrollTo:At,slideLooper:En(I,k,ot,U,J,et,H,it,n),slideFocus:xe,slidesHandler:On(e,o,E),slidesInView:ye,slideIndexes:F,slideRegistry:Qt,slidesToScroll:q,target:at,translate:ve(I,e)};return Ct}function Nn(){let t={},e;function n(l){e=l}function i(l){return t[l]||[]}function a(l){return i(l).forEach(h=>h(e,l)),r}function s(l,h){return t[l]=i(l).concat([h]),r}function o(l,h){return t[l]=i(l).filter(f=>f!==h),r}function c(){t={}}const r={init:n,emit:a,off:o,on:s,clear:c};return r}const Pn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Fn(t){function e(s,o){return ge(s,o||{})}function n(s){const o=s.breakpoints||{},c=Lt(o).filter(r=>t.matchMedia(r).matches).map(r=>o[r]).reduce((r,l)=>e(r,l),{});return e(s,c)}function i(s){return s.map(o=>Lt(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:i}}function zn(t){let e=[];function n(s,o){return e=o.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(s,t)),o.reduce((c,r)=>Object.assign(c,{[r.name]:r}),{})}function i(){e=e.filter(s=>s.destroy())}return{init:n,destroy:i}}function Et(t,e,n){const i=t.ownerDocument,a=i.defaultView,s=Fn(a),o=zn(s),c=It(),r=Nn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:f}=s,{on:m,off:y,emit:d}=r,p=I;let g=!1,u,v=l(Pn,Et.globalOptions),x=l(v),E=[],A,O,L;function T(){const{container:F,slides:b}=x;O=(Bt(F)?t.querySelector(F):F)||t.children[0];const B=Bt(b)?O.querySelectorAll(b):b;L=[].slice.call(B||O.children)}function _(F){const b=Cn(t,O,L,i,a,F,r);if(F.loop&&!b.slideLooper.canLoop()){const C=Object.assign({},F,{loop:!1});return _(C)}return b}function S(F,b){g||(v=l(v,F),x=h(v),E=b||E,T(),u=_(x),f([v,...E.map(({options:C})=>C)]).forEach(C=>c.add(C,"change",I)),x.active&&(u.translate.to(u.location.get()),u.animation.init(),u.slidesInView.init(),u.slideFocus.init(K),u.eventHandler.init(K),u.resizeHandler.init(K),u.slidesHandler.init(K),u.options.loop&&u.slideLooper.loop(),O.offsetParent&&L.length&&u.dragHandler.init(K),A=o.init(K,E)))}function I(F,b){const C=q();k(),S(l({startIndex:C},F),b),r.emit("reInit")}function k(){u.dragHandler.destroy(),u.eventStore.clear(),u.translate.clear(),u.slideLooper.clear(),u.resizeHandler.destroy(),u.slidesHandler.destroy(),u.slidesInView.destroy(),u.animation.destroy(),o.destroy(),c.clear()}function P(){g||(g=!0,c.clear(),k(),r.emit("destroy"),r.clear())}function M(F,b,C){!x.active||g||(u.scrollBody.useBaseFriction().useDuration(b===!0?0:x.duration),u.scrollTo.index(F,C||0))}function j(F){const b=u.index.add(1).get();M(b,F,-1)}function G(F){const b=u.index.add(-1).get();M(b,F,1)}function U(){return u.index.add(1).get()!==q()}function J(){return u.index.add(-1).get()!==q()}function Q(){return u.scrollSnapList}function Y(){return u.scrollProgress.get(u.offsetLocation.get())}function q(){return u.index.get()}function et(){return u.indexPrevious.get()}function nt(){return u.slidesInView.get()}function ot(){return u.slidesInView.get(!1)}function gt(){return A}function ht(){return u}function H(){return t}function R(){return O}function st(){return L}const K={canScrollNext:U,canScrollPrev:J,containerNode:R,internalEngine:ht,destroy:P,off:y,on:m,emit:d,plugins:gt,previousScrollSnap:et,reInit:p,rootNode:H,scrollNext:j,scrollPrev:G,scrollProgress:Y,scrollSnapList:Q,scrollTo:M,selectedScrollSnap:q,slideNodes:st,slidesInView:nt,slidesNotInView:ot};return S(e,n),setTimeout(()=>r.emit("init"),0),K}Et.globalOptions=void 0;function Ut(t={},e=[]){const n=oe(t),i=oe(e);let a=n?t.value:t,s=i?e.value:e;const o=ne(),c=ne();function r(){c.value&&c.value.reInit(a,s)}return fe(()=>{!sn()||!o.value||(Et.globalOptions=Ut.globalOptions,c.value=Et(o.value,a,s))}),Oe(()=>{c.value&&c.value.destroy()}),n&&xt(t,l=>{Rt(a,l)||(a=l,r())}),i&&xt(e,l=>{rn(s,l)||(s=l,r())}),[o,c]}Ut.globalOptions=void 0;const Bn={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function jn(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function $n(t,e){const n=t.rootNode();return e&&e(n)||n}function qt(t={}){let e,n,i,a,s=null,o=0,c=!1,r=!1,l=!1,h=!1;function f(M,j){n=M;const{mergeOptions:G,optionsAtMedia:U}=j,J=G(Bn,qt.globalOptions),Q=G(J,t);if(e=U(Q),n.scrollSnapList().length<=1)return;h=e.jump,i=!1,a=jn(n,e.delay);const{eventStore:Y,ownerDocument:q}=n.internalEngine(),et=!!n.internalEngine().options.watchDrag,nt=$n(n,e.rootNode);Y.add(q,"visibilitychange",u),et&&n.on("pointerDown",x),et&&!e.stopOnInteraction&&n.on("pointerUp",E),e.stopOnMouseEnter&&Y.add(nt,"mouseenter",A),e.stopOnMouseEnter&&!e.stopOnInteraction&&Y.add(nt,"mouseleave",O),e.stopOnFocusIn&&n.on("slideFocusStart",g),e.stopOnFocusIn&&!e.stopOnInteraction&&Y.add(n.containerNode(),"focusout",p),e.playOnInit&&p()}function m(){n.off("pointerDown",x).off("pointerUp",E).off("slideFocusStart",g),g(),i=!0,c=!1}function y(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(o),o=M.setTimeout(I,a[n.selectedScrollSnap()]),s=new Date().getTime(),n.emit("autoplay:timerset")}function d(){const{ownerWindow:M}=n.internalEngine();M.clearTimeout(o),o=0,s=null,n.emit("autoplay:timerstopped")}function p(){if(!i){if(v()){l=!0;return}c||n.emit("autoplay:play"),y(),c=!0}}function g(){i||(c&&n.emit("autoplay:stop"),d(),c=!1)}function u(){if(v())return l=c,g();l&&p()}function v(){const{ownerDocument:M}=n.internalEngine();return M.visibilityState==="hidden"}function x(){r||g()}function E(){r||p()}function A(){r=!0,g()}function O(){r=!1,p()}function L(M){typeof M<"u"&&(h=M),p()}function T(){c&&g()}function _(){c&&p()}function S(){return c}function I(){const{index:M}=n.internalEngine(),j=M.clone().add(1).get(),G=n.scrollSnapList().length-1,U=e.stopOnLastSnap&&j===G;if(n.canScrollNext()?n.scrollNext(h):n.scrollTo(0,h),n.emit("autoplay:select"),U)return g();p()}function k(){if(!s)return null;const M=a[n.selectedScrollSnap()],j=new Date().getTime()-s;return M-j}return{name:"autoplay",options:t,init:f,destroy:m,play:L,stop:T,reset:_,isPlaying:S,timeUntilNext:k}}qt.globalOptions=void 0;const Rn={key:0,class:"relative"},Vn={class:"flex"},Hn=["src","alt"],Gn={key:0,class:"absolute bottom-2 left-1/2 flex -translate-x-1/2 gap-1.5"},Un={key:1,class:"flex h-40 items-center justify-center bg-gradient-to-r from-red-500 to-red-600"},qn=Ot({__name:"BannerCarousel",props:{banners:{},imageBaseUrl:{default:""}},setup(t){const e=t,{localize:n}=me(),[i]=Ut({loop:!0},[qt({delay:3e3,stopOnInteraction:!1})]),a=$(0),s=o=>o?o.startsWith("http")?o:`${e.imageBaseUrl}${o}`:"";return(o,c)=>t.banners.length>0?(D(),N("div",Rn,[w("div",{ref_key:"emblaRef",ref:i,class:"overflow-hidden"},[w("div",Vn,[(D(!0),N(bt,null,wt(t.banners,(r,l)=>(D(),N("div",{key:r.id||l,class:"relative min-w-0 flex-[0_0_100%]"},[w("img",{src:s(r.pic||""),alt:X(n)(r.lang_title,r.title),class:"h-40 w-full object-cover",onError:c[0]||(c[0]=h=>h.target.style.display="none")},null,40,Hn)]))),128))])],512),t.banners.length>1?(D(),N("div",Gn,[(D(!0),N(bt,null,wt(t.banners,(r,l)=>(D(),N("span",{key:l,class:ut(["h-1.5 w-1.5 rounded-full transition-colors",l===a.value?"bg-white":"bg-white/50"])},null,2))),128))])):pt("",!0)])):(D(),N("div",Un,[...c[1]||(c[1]=[w("span",{class:"text-lg font-bold text-white"},"È°∂Â≥∞28",-1)])]))}}),Kn={class:"flex min-h-screen justify-center bg-[#eef3f8]"},Jn={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},Qn={key:1,class:"px-3 pb-20 pt-3"},Xn={class:"grid grid-cols-4 gap-2 mb-3"},Wn={class:"mt-1 text-[12px] text-gray-700"},Yn={key:0,class:"mb-3"},Zn={class:"h-full overflow-hidden flex items-center"},to={class:"pl-16"},eo={class:"mb-2 flex items-center justify-between text-[13px]"},no={class:"flex items-center gap-2"},oo={class:"text-black font-bold"},so={class:"mb-4 grid grid-cols-3 gap-2"},ro=["src","alt"],io={key:1,class:"col-span-3 text-center py-4 text-gray-400 text-sm"},co={key:1,class:"space-y-3"},ao=["href"],lo=["href"],uo={key:2,class:"space-y-3"},fo={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},mo={class:"bg-white rounded-2xl max-w-sm w-full max-h-[70vh] overflow-hidden shadow-2xl"},po={class:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-500 to-red-600"},go={class:"font-bold text-white text-lg"},ho={class:"p-4 overflow-y-auto max-h-[50vh]"},vo=["innerHTML"],yo={class:"p-4 border-t bg-gray-50"},xo={class:"bg-white w-[calc(100vw-32px)] max-w-lg max-h-[80vh] overflow-hidden flex flex-col rounded-2xl shadow-2xl"},bo={class:"flex items-center justify-between p-4 border-b"},wo={class:"flex-1 pr-4"},So={class:"text-lg font-bold text-gray-900"},_o={key:0,class:"text-xs text-gray-500 mt-1"},Lo={class:"flex-1 overflow-y-auto p-4"},Io={key:0,class:"flex items-center justify-center py-8"},ko=["innerHTML"],To=Ot({__name:"index",setup(t){const{t:e}=$t(),{localize:n}=me(),i="https://img.kaixin28.com",a=$(!0),s=$(!0),o=$([]),c=$(null),r=$(null),l=$(!1),h=$(null),f=$([]),m=$(0),y=$(!1),d=$(null),p=$(null),g=$(!1),u=$(null),v=$(!1);let x=null;const E=Me(()=>[{name:e("home.announcement"),icon:pe,color:"bg-[#ffb84d]",href:"/index/announce"},{name:e("home.events"),icon:Ue,color:"bg-[#b47cff]",href:"/index/activities"},{name:e("home.rewards"),icon:qe,color:"bg-[#ff6b6b]",href:"/mine/relief"},{name:e("home.partners"),icon:Ke,color:"bg-[#4ec5ff]",href:"/index/partners"}]),A=async()=>{try{a.value=!0,s.value=!0;const[_,S,I,k]=await Promise.all([Be(),je({hot_count:6,new_count:3}),$e(),Re()]);_.code===200&&(o.value=_.data||[]),S.code===200&&(c.value=S.data),I.code===200&&I.data&&(h.value=I.data),s.value=!1,k.code===200&&k.data&&(f.value=k.data);const P=await Ve();if(P.code===200&&P.data?.length>0){const M=P.data[0];r.value=M;const j=`home_popup_${M.id}`;sessionStorage.getItem(j)||(l.value=!0,sessionStorage.setItem(j,"true"))}}catch(_){console.error("Âä†ËΩΩÈ¶ñÈ°µÊï∞ÊçÆÂ§±Ë¥•:",_)}finally{a.value=!1}};xt(m,()=>{y.value=!1}),xt([m,()=>f.value,y],()=>{y.value||setTimeout(()=>{if(d.value&&p.value){const _=d.value.offsetWidth,S=p.value.scrollWidth;y.value=S>_}},50)},{immediate:!0}),xt([()=>f.value,m,y],()=>{if(x&&clearTimeout(x),f.value.length===0)return;const S=f.value[m.value]?.title?.length||0,I=y.value?Math.max(S*.25,5)*1e3+1e3:3e3;x=setTimeout(()=>{m.value=(m.value+1)%f.value.length},I)},{immediate:!0});const O=async _=>{g.value=!0,v.value=!0,u.value=_;try{const{code:S,data:I}=await He(_.id);S===200&&I&&(u.value=I)}catch(S){console.error("Ëé∑ÂèñÂÖ¨ÂëäËØ¶ÊÉÖÂ§±Ë¥•:",S)}finally{v.value=!1}},L=()=>{g.value=!1},T=_=>Math.max(_.length*.2,6);return fe(()=>{A()}),De(()=>{x&&clearTimeout(x)}),(_,S)=>{const I=Ne("router-link");return D(),N("div",Kn,[w("div",Jn,[lt(nn),a.value?(D(),mt(Ze,{key:0})):(D(),N("main",Qn,[w("section",Xn,[(D(!0),N(bt,null,wt(E.value,(k,P)=>(D(),mt(I,{key:k.href,to:k.href,class:"flex flex-col items-center justify-center text-[13px] relative transform transition-transform duration-200 hover:scale-105 active:scale-95",style:re({animationDelay:`${P*50}ms`})},{default:Ft(()=>[w("div",{class:ut(["flex h-11 w-11 items-center justify-center rounded-lg text-xl text-white shadow-md relative transition-shadow hover:shadow-lg",k.color])},[(D(),mt(Pe(k.icon),{class:"h-5 w-5"}))],2),w("span",Wn,tt(k.name),1)]),_:2},1032,["to","style"]))),128))]),lt(qn,{banners:o.value,"image-base-url":X(i),class:"mb-3"},null,8,["banners","image-base-url"]),f.value.length>0?(D(),N("section",Yn,[w("div",{class:"bg-gradient-to-r from-[#fff8e6] to-[#fff2d6] rounded-lg px-3 py-2 flex items-center gap-2 shadow-sm border border-[#ffe4a0] cursor-pointer hover:shadow-md transition-shadow active:scale-[0.99]",onClick:S[0]||(S[0]=k=>O(f.value[m.value]))},[S[3]||(S[3]=w("div",{class:"flex-shrink-0 text-lg"}," üì¢ ",-1)),w("div",{ref_key:"noticeContainerRef",ref:d,class:"flex-1 overflow-hidden relative h-5"},[(D(!0),N(bt,null,wt(f.value,(k,P)=>(D(),N("div",{key:k.id,class:ut(["absolute inset-0 transition-all duration-500 ease-in-out",P===m.value?"opacity-100 translate-y-0":"opacity-0 translate-y-4"])},[w("div",Zn,[y.value&&P===m.value?(D(),N("div",{key:0,class:"inline-flex whitespace-nowrap text-sm text-[#8b5a00] animate-marquee-text",style:re({animationDuration:`${T(k.title)}s`})},[w("span",null,tt(k.title),1),w("span",to,tt(k.title),1)],4)):(D(),N("span",{key:1,ref_for:!0,ref:P===m.value?M=>p.value=M:void 0,class:"text-sm text-[#8b5a00] whitespace-nowrap"},tt(k.title),513))])],2))),128))],512)])])):pt("",!0),w("section",eo,[w("div",no,[S[4]||(S[4]=w("span",{class:"w-1 h-4 bg-red-500 rounded-full"},null,-1)),w("span",oo,tt(X(e)("home.hot-games")),1)])]),w("section",so,[c.value?.hot&&c.value.hot.length>0?(D(!0),N(bt,{key:0},wt(c.value.hot,(k,P)=>(D(),mt(I,{key:"hot-games"+P,to:`/games?lottery_id=${k.id}`,class:"block transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 rounded-md overflow-hidden"},{default:Ft(()=>[w("img",{src:k.logo||"",alt:k.name||"",class:"w-full rounded-md"},null,8,ro)]),_:2},1032,["to"]))),128)):(D(),N("div",io," ÊöÇÊó†ÁÉ≠Èó®Ê∏∏Êàè "))]),!s.value&&h.value?(D(),N("section",co,[w("a",{href:h.value.pc_url,class:"block"},[...S[5]||(S[5]=[w("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÁîµËÑëÁâà ",-1)])],8,ao),w("a",{href:h.value.customer_link,class:"block"},[...S[6]||(S[6]=[w("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ËÅîÁ≥ªÂÆ¢Êúç ",-1)])],8,lo)])):s.value?(D(),N("section",uo,[...S[7]||(S[7]=[w("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1),w("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1)])])):pt("",!0)])),(D(),mt(se,{to:"body"},[l.value&&r.value?(D(),N("div",fo,[w("div",mo,[w("div",po,[w("h3",go,tt(X(n)(r.value.lang_title,r.value.title)),1),w("button",{onClick:S[1]||(S[1]=k=>l.value=!1),class:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/20 transition-colors"},[lt(X(ie),{class:"h-5 w-5"})])]),w("div",ho,[w("div",{class:"text-sm text-gray-600 leading-relaxed",innerHTML:X(n)(r.value.lang_content,r.value.content)},null,8,vo)]),w("div",yo,[w("button",{onClick:S[2]||(S[2]=k=>l.value=!1),class:"w-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-white rounded-full py-3 text-sm font-bold hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," ÊàëÁü•ÈÅì‰∫Ü ")])])])):pt("",!0)])),(D(),mt(se,{to:"body"},[lt(Ce,{name:"dialog"},{default:Ft(()=>[g.value?(D(),N("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:Ae(L,["self"])},[w("div",xo,[w("div",bo,[w("div",wo,[w("h3",So,tt(u.value?.title),1),u.value?.created_at?(D(),N("div",_o," ÂèëÂ∏É‰∫é "+tt(u.value.created_at),1)):pt("",!0)]),w("button",{onClick:L,class:"p-1.5 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0"},[lt(X(ie),{class:"h-5 w-5"})])]),w("div",Lo,[v.value?(D(),N("div",Io,[...S[8]||(S[8]=[w("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"},null,-1)])])):(D(),N("div",{key:1,class:"text-sm text-gray-700 leading-7 prose prose-sm max-w-none",innerHTML:u.value?.content||""},null,8,ko))])])])):pt("",!0)]),_:1})]))])])}}}),$o=de(To,[["__scopeId","data-v-b0aa7fc1"]]);export{$o as default};
