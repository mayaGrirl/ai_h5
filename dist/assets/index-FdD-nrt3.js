import{d as _,o as h,r as f,q as u,n as e,f as x,y as l,M as w,F as C,t as V,u as c,x as p,l as d,S,a0 as k,C as z,D as M}from"./vue-vendor-2ZNhN7Rr.js";import{a as T,u as B,t as m}from"./index-BC9sSM5C.js";import{K as D}from"./customer-jpBR9lPt.js";import{_ as K}from"./PageHeader.vue_vue_type_script_setup_true_lang-XoqE462H.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";import"./chevron-left-Cd9iVQbM.js";const N={class:"flex min-h-screen justify-center bg-[#eef3f8]"},R={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},j={class:"bg-white rounded-lg mb-3 overflow-hidden"},F={class:"flex flex-wrap flex-col items-start content-start px-4 py-3 border-b"},Q=["value"],q={key:0,class:"h-2 w-2 rounded-full bg-white"},A={class:"text-sm"},E=["disabled"],P=_({__name:"index",setup(G){const v=M(),{t:n}=T(),r=B(),a=f(!1),t=f("safeQuestion"),y=[{value:"safeQuestion",i18nKey:"mine.security-settings.group-account.redeem.option-2"}],b=async()=>{a.value=!0;try{const o=await D({prize_verify_type:t.value});o.code===200?(m.success(o.message||"设置成功"),r.currentCustomer&&r.setCurrentCustomer({...r.currentCustomer,prizeVerifyType:t.value}),v.back()):m.error(o.message||"设置失败")}catch{m.error("设置失败")}finally{a.value=!1}};return h(()=>{r.currentCustomer?.prizeVerifyType&&(t.value=r.currentCustomer.prizeVerifyType)}),(o,i)=>(d(),u("div",N,[e("div",R,[x(K,{title:l(n)("mine.security-settings.group-other.redeem")},null,8,["title"]),e("form",{onSubmit:w(b,["prevent"]),class:"w-full bg-gray-100 px-3 py-4"},[e("div",j,[e("div",F,[(d(),u(C,null,V(y,s=>e("label",{key:s.value,class:c(["flex items-center gap-3 px-4 py-3 cursor-pointer",t.value===s.value?"text-blue-600":"text-gray-700"])},[S(e("input",{type:"radio",value:s.value,"onUpdate:modelValue":i[0]||(i[0]=g=>t.value=g),class:"hidden"},null,8,Q),[[k,t.value]]),e("span",{class:c(["flex h-4 w-4 items-center justify-center rounded-full border",t.value===s.value?"border-red-600 bg-red-600":"border-gray-300"])},[t.value===s.value?(d(),u("span",q)):z("",!0)],2),e("span",A,p(l(n)(s.i18nKey)),1)],2)),64))])]),e("button",{type:"submit",disabled:a.value,class:c(["mt-10 h-12 w-full rounded-full bg-gradient-to-r from-[#ff6a3a] to-[#ff1020] text-white font-medium tracking-wide transition transform active:scale-95",a.value?"opacity-60 cursor-not-allowed":"cursor-pointer"])},p(a.value?l(n)("common.form.button.submitting"):l(n)("common.form.button.submit")),11,E)],32),i[1]||(i[1]=e("div",{class:"h-14"},null,-1))])]))}});export{P as default};
