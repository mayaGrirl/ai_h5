import{d as g,o as h,r as p,q as i,n as e,f as x,y as u,M as w,F as V,t as C,u as c,x as y,l as d,S,a0 as k,C as T,D as M}from"./vue-vendor-2ZNhN7Rr.js";import{a as B,u as D,t as m}from"./index-BC9sSM5C.js";import{G as N}from"./customer-jpBR9lPt.js";import{_ as j}from"./PageHeader.vue_vue_type_script_setup_true_lang-XoqE462H.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";import"./chevron-left-Cd9iVQbM.js";const F={class:"flex min-h-screen justify-center bg-[#eef3f8]"},K={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},Q={class:"bg-white rounded-lg mb-3 overflow-hidden"},R={class:"flex flex-wrap flex-col items-start content-start px-4 py-3 border-b"},q=["value"],z={key:0,class:"h-2 w-2 rounded-full bg-white"},A={class:"text-sm"},E=["disabled"],P=g({__name:"index",setup(G){const v=M(),{t:n}=B(),s=D(),l=p(!1),t=p("safeQuestion"),f=[{value:"safeQuestion",i18nKey:"mine.security-settings.group-account.redeem.option-2"}],b=async()=>{l.value=!0;try{const r=await N({select_card_verify_type:t.value});r.code===200?(m.success(r.message||"设置成功"),s.currentCustomer&&s.setCurrentCustomer({...s.currentCustomer,selectcardVerifyType:t.value}),v.back()):m.error(r.message||"设置失败")}catch{m.error("设置失败")}finally{l.value=!1}};return h(()=>{s.currentCustomer?.selectcardVerifyType&&f.map(a=>a.value).includes(s.currentCustomer.selectcardVerifyType)&&(t.value=s.currentCustomer.selectcardVerifyType)}),(r,a)=>(d(),i("div",F,[e("div",K,[x(j,{title:u(n)("mine.security-settings.group-other.card")},null,8,["title"]),e("form",{onSubmit:w(b,["prevent"]),class:"w-full bg-gray-100 px-3 py-4"},[e("div",Q,[e("div",R,[(d(),i(V,null,C(f,o=>e("label",{key:o.value,class:c(["flex items-center gap-3 px-4 py-3 cursor-pointer",t.value===o.value?"text-blue-600":"text-gray-700"])},[S(e("input",{type:"radio",value:o.value,"onUpdate:modelValue":a[0]||(a[0]=_=>t.value=_),class:"hidden"},null,8,q),[[k,t.value]]),e("span",{class:c(["flex h-4 w-4 items-center justify-center rounded-full border",t.value===o.value?"border-red-600 bg-red-600":"border-gray-300"])},[t.value===o.value?(d(),i("span",z)):T("",!0)],2),e("span",A,y(u(n)(o.i18nKey)),1)],2)),64))])]),e("button",{type:"submit",disabled:l.value,class:c(["mt-10 h-12 w-full rounded-full bg-gradient-to-r from-[#ff6a3a] to-[#ff1020] text-white font-medium tracking-wide transition transform active:scale-95",l.value?"opacity-60 cursor-not-allowed":"cursor-pointer"])},y(l.value?u(n)("common.form.button.submitting"):u(n)("common.form.button.submit")),11,E)],32),a[1]||(a[1]=e("div",{class:"h-14"},null,-1))])]))}});export{P as default};
