import{d as v,o as x,q as o,l as e,f as p,u as i,z as r,r as d,J as y,B as g,I as w,v as a}from"./vue-vendor-ntQnFNWs.js";import{a as b}from"./index-C6XK1gma.js";import{d as k}from"./home-BBFjxu9s.js";import{C as B}from"./chevron-left-CXUrgsmq.js";import"./utils-vendor-CbLx3nH2.js";const C={class:"min-h-screen bg-[#eef3f8] overflow-auto"},N={class:"w-full max-w-xl mx-auto bg-[#f5f7fb] shadow-sm"},j={class:"sticky top-0 z-40 bg-gradient-to-r from-red-600 to-red-500"},D={class:"flex h-12 items-center justify-between px-3"},I={class:"text-white font-bold"},L={key:0,class:"flex items-center justify-center min-h-[50vh] text-gray-500"},M={key:1,class:"px-4 py-5 pb-20"},V={class:"text-xs text-gray-500"},z={class:"mt-2 text-2xl font-bold text-gray-900"},H=["src","alt"],R=["innerHTML"],T={key:2,class:"flex items-center justify-center min-h-[50vh] text-gray-500"},G=v({__name:"detail",setup(q){const u=w(),m=g(),{t:f}=b(),t=d(null),l=d(!0),_=()=>{m.back()},h=async()=>{try{l.value=!0;const s=Number(u.params.id);if(!s)return;const{code:n,data:c}=await k(s);n===200&&c&&(t.value=c)}catch(s){console.error("获取公告详情失败:",s)}finally{l.value=!1}};return x(()=>{h()}),(s,n)=>(a(),o("div",C,[e("div",N,[e("header",j,[e("div",D,[e("button",{onClick:_,class:"flex items-center text-white"},[p(i(B),{class:"h-5 w-5"})]),e("span",I,r(i(f)("home.announcement")),1),n[0]||(n[0]=e("div",{class:"w-5"},null,-1))])]),l.value?(a(),o("div",L," 加载中... ")):t.value?(a(),o("main",M,[e("div",V,"发布于 "+r(t.value.created_at),1),e("div",z,r(t.value.title),1),t.value.pic?(a(),o("img",{key:0,src:t.value.pic,alt:t.value.title,class:"mt-4 w-full rounded-lg shadow"},null,8,H)):y("",!0),e("div",{class:"mt-4 text-gray-700 leading-7",innerHTML:t.value.content},null,8,R)])):(a(),o("div",T," 未找到公告 "))])]))}});export{G as default};
