import{a as w}from"./index-CFMypmBh.js";import{d as b,o as k,q as a,l as e,f as r,u as n,z as d,r as u,F as m,t as f,B as C,A as B,v as o,k as j,n as z,J as D,M as N}from"./vue-vendor-ntQnFNWs.js";import{c as V}from"./home-K3zbXpSp.js";import{C as $}from"./chevron-left-Cq0BIQK6.js";import{B as h}from"./bell-CUYdPMnx.js";import{C as A}from"./chevron-right-DAvl8pmw.js";import"./utils-vendor-CbLx3nH2.js";const F={class:"flex min-h-screen justify-center bg-[#eef3f8]"},L={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},M={class:"sticky top-0 z-40 bg-gradient-to-r from-red-600 to-red-500"},R={class:"flex h-12 items-center justify-between px-3"},S={class:"text-white font-bold"},q={class:"px-3 pb-20 pt-3"},E={class:"space-y-3"},I={key:1,class:"flex flex-col items-center justify-center py-16 text-gray-400"},J={class:"flex items-center justify-between"},G={class:"flex-1"},H={class:"flex items-center gap-2 text-xs text-gray-400 mb-1"},K={class:"text-base font-semibold text-gray-900 line-clamp-2"},O={key:0,class:"mt-3 rounded-lg overflow-hidden"},P=["src","alt"],se=b({__name:"index",setup(Q){const p=C(),{t:_}=w(),c=u([]),i=u(!0),x=()=>{p.back()},y=async()=>{try{i.value=!0;const{code:l,data:s}=await V();l===200&&s&&(c.value=s)}catch(l){console.error("获取公告列表失败:",l)}finally{i.value=!1}};return k(()=>{y()}),(l,s)=>{const v=B("router-link");return o(),a("div",F,[e("div",L,[e("header",M,[e("div",R,[e("button",{onClick:x,class:"flex items-center text-white"},[r(n($),{class:"h-5 w-5"})]),e("span",S,d(n(_)("home.announcement")),1),s[0]||(s[0]=e("div",{class:"w-5"},null,-1))])]),e("main",q,[e("section",E,[i.value?(o(),a(m,{key:0},f(3,t=>e("div",{key:`skeleton-${t}`,class:"bg-white rounded-xl px-4 py-4 shadow-sm"},[...s[1]||(s[1]=[e("div",{class:"h-3 w-24 mb-2 bg-gray-200 rounded animate-pulse"},null,-1),e("div",{class:"h-5 w-3/4 mb-2 bg-gray-200 rounded animate-pulse"},null,-1),e("div",{class:"h-32 w-full bg-gray-200 rounded-lg animate-pulse"},null,-1)])])),64)):c.value.length===0?(o(),a("div",I,[r(n(h),{class:"h-16 w-16 mb-4 text-gray-300"}),s[2]||(s[2]=e("p",{class:"text-sm"},"暂无公告",-1))])):(o(!0),a(m,{key:2},f(c.value,(t,g)=>(o(),j(v,{key:t.id,to:`/index/announce/${t.id}`,class:"block bg-white rounded-xl px-4 py-4 shadow-sm hover:shadow-md transition-all duration-200 transform hover:scale-[1.01] active:scale-[0.99]",style:N({animationDelay:`${g*50}ms`})},{default:z(()=>[e("div",J,[e("div",G,[e("div",H,[r(n(h),{class:"h-3 w-3"}),e("span",null,"发布于 "+d(t.created_at),1)]),e("div",K,d(t.title),1)]),r(n(A),{class:"h-5 w-5 text-gray-300 flex-shrink-0 ml-2"})]),t.pic?(o(),a("div",O,[e("img",{src:t.pic,alt:t.title,class:"w-full object-cover transition-transform duration-300 hover:scale-105"},null,8,P)])):D("",!0)]),_:2},1032,["to","style"]))),128))])])])])}}});export{se as default};
