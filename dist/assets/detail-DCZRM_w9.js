import{d as v,o as x,q as o,n as e,f as p,y as i,x as r,r as d,C as y,D as g,L as w,l as a}from"./vue-vendor-2ZNhN7Rr.js";import{a as b}from"./index-6bPpM1RI.js";import{d as k}from"./home-B5_g79L-.js";import{C}from"./chevron-left-UINV5sCJ.js";import"./utils-vendor-CbLx3nH2.js";const B={class:"min-h-screen bg-[#eef3f8] overflow-auto"},D={class:"w-full max-w-xl mx-auto bg-[#f5f7fb] shadow-sm"},L={class:"sticky top-0 z-40 bg-gradient-to-r from-red-600 to-red-500"},N={class:"flex h-12 items-center justify-between px-3"},j={class:"text-white font-bold"},M={key:0,class:"flex items-center justify-center min-h-[50vh] text-gray-500"},V={key:1,class:"px-4 py-5 pb-20"},H={class:"text-xs text-gray-500"},I={class:"mt-2 text-2xl font-bold text-gray-900"},R=["src","alt"],T=["innerHTML"],q={key:2,class:"flex items-center justify-center min-h-[50vh] text-gray-500"},J=v({__name:"detail",setup(z){const u=w(),m=g(),{t:f}=b(),t=d(null),l=d(!0),_=()=>{m.back()},h=async()=>{try{l.value=!0;const s=Number(u.params.id);if(!s)return;const{code:n,data:c}=await k(s);n===200&&c&&(t.value=c)}catch(s){console.error("获取公告详情失败:",s)}finally{l.value=!1}};return x(()=>{h()}),(s,n)=>(a(),o("div",B,[e("div",D,[e("header",L,[e("div",N,[e("button",{onClick:_,class:"flex items-center text-white"},[p(i(C),{class:"h-5 w-5"})]),e("span",j,r(i(f)("home.announcement")),1),n[0]||(n[0]=e("div",{class:"w-5"},null,-1))])]),l.value?(a(),o("div",M," 加载中... ")):t.value?(a(),o("main",V,[e("div",H,"发布于 "+r(t.value.created_at),1),e("div",I,r(t.value.title),1),t.value.pic?(a(),o("img",{key:0,src:t.value.pic,alt:t.value.title,class:"mt-4 w-full rounded-lg shadow"},null,8,R)):y("",!0),e("div",{class:"mt-4 text-gray-700 leading-7",innerHTML:t.value.content},null,8,T)])):(a(),o("div",q," 未找到公告 "))])]))}});export{J as default};
