import{d as g,o as h,r as p,q as i,l as e,f as x,u,K as w,F as V,t as C,x as c,z as v,B as k,v as d,Q as S,$ as T,J as B}from"./vue-vendor-ntQnFNWs.js";import{a as K,u as M,t as m}from"./index-DKHIMzl2.js";import{G as N}from"./customer-B5IwTx45.js";import{_ as Q}from"./PageHeader.vue_vue_type_script_setup_true_lang-CXJsQIxj.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";import"./chevron-left-WmLVr1nx.js";const j={class:"flex min-h-screen justify-center bg-[#eef3f8]"},z={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},D={class:"bg-white rounded-lg mb-3 overflow-hidden"},F={class:"flex flex-wrap flex-col items-start content-start px-4 py-3 border-b"},R=["value"],$={key:0,class:"h-2 w-2 rounded-full bg-white"},q={class:"text-sm"},A=["disabled"],P=g({__name:"index",setup(E){const y=k(),{t:n}=K(),s=M(),l=p(!1),t=p("safeQuestion"),f=[{value:"safeQuestion",i18nKey:"mine.security-settings.group-account.redeem.option-2"}],b=async()=>{l.value=!0;try{const r=await N({select_card_verify_type:t.value});r.code===200?(m.success(r.message||"设置成功"),s.currentCustomer&&s.setCurrentCustomer({...s.currentCustomer,selectcardVerifyType:t.value}),y.back()):m.error(r.message||"设置失败")}catch{m.error("设置失败")}finally{l.value=!1}};return h(()=>{s.currentCustomer?.selectcardVerifyType&&f.map(a=>a.value).includes(s.currentCustomer.selectcardVerifyType)&&(t.value=s.currentCustomer.selectcardVerifyType)}),(r,a)=>(d(),i("div",j,[e("div",z,[x(Q,{title:u(n)("mine.security-settings.group-other.card")},null,8,["title"]),e("form",{onSubmit:w(b,["prevent"]),class:"w-full bg-gray-100 px-3 py-4"},[e("div",D,[e("div",F,[(d(),i(V,null,C(f,o=>e("label",{key:o.value,class:c(["flex items-center gap-3 px-4 py-3 cursor-pointer",t.value===o.value?"text-blue-600":"text-gray-700"])},[S(e("input",{type:"radio",value:o.value,"onUpdate:modelValue":a[0]||(a[0]=_=>t.value=_),class:"hidden"},null,8,R),[[T,t.value]]),e("span",{class:c(["flex h-4 w-4 items-center justify-center rounded-full border",t.value===o.value?"border-red-600 bg-red-600":"border-gray-300"])},[t.value===o.value?(d(),i("span",$)):B("",!0)],2),e("span",q,v(u(n)(o.i18nKey)),1)],2)),64))])]),e("button",{type:"submit",disabled:l.value,class:c(["mt-10 h-12 w-full rounded-full bg-gradient-to-r from-[#ff6a3a] to-[#ff1020] text-white font-medium tracking-wide transition transform active:scale-95",l.value?"opacity-60 cursor-not-allowed":"cursor-pointer"])},v(l.value?u(n)("common.form.button.submitting"):u(n)("common.form.button.submit")),11,A)],32),a[1]||(a[1]=e("div",{class:"h-14"},null,-1))])]))}});export{P as default};
