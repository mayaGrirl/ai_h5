import{c as Le,a as jt,_ as Ie,u as Ee,L as Pt}from"./index-BvHA6CJ8.js";import{g as ke,i as Oe,a as Te,b as De}from"./home-C9KJJQek.js";import{u as ae}from"./useLocalized-C2qZMYyo.js";import{d as kt,q as N,x as ft,l as S,z as dt,u as Q,v as A,f as bt,B as Ae,o as le,s as ee,N as Me,w as ne,i as oe,J as Nt,F as yt,t as xt,r as rt,k as ut,c as Ce,p as Pe,A as Fe,n as Ft,y as Ne,M as ze}from"./vue-vendor-ntQnFNWs.js";import{_ as Be}from"./login-logo-DOFsqlSQ.js";import{B as ue}from"./bell-DA0Ucy8e.js";import{X as je,G as $e}from"./x-DAQNntXG.js";import{S as Ve}from"./star-C7y6azNU.js";import{U as Re}from"./users-round-CR5NyJu4.js";import"./utils-vendor-CbLx3nH2.js";import"./index-C6jzfBHC.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Le("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ge={class:"flex flex-col items-center gap-3"},Ue={class:"relative"},qe={class:"text-sm text-gray-500 animate-pulse"},Ke=kt({__name:"PageLoading",props:{size:{default:"md"},text:{},fullScreen:{type:Boolean,default:!1}},setup(t){const{t:e}=jt(),n={sm:"h-5 w-5 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"};return(i,a)=>(A(),N("div",{class:ft(["flex items-center justify-center",t.fullScreen?"fixed inset-0 bg-white/80 backdrop-blur-sm z-50":"h-40"])},[S("div",Ge,[S("div",Ue,[S("div",{class:ft(["rounded-full border-gray-200 animate-pulse",n[t.size]])},null,2),S("div",{class:ft(["absolute inset-0 rounded-full border-transparent border-t-red-500 border-r-red-500/50 spin-smooth",n[t.size]])},null,2),S("div",{class:ft(["absolute inset-0 rounded-full border-transparent border-b-orange-400/30 spin-smooth",n[t.size]]),style:{"animation-duration":"1.5s","animation-direction":"reverse"}},null,2)]),S("span",qe,dt(t.text||Q(e)("common.loading")),1)])],2))}}),Je=Ie(Ke,[["__scopeId","data-v-ea88b5b5"]]),Qe={class:"sticky top-0 z-40 flex h-12 items-center justify-between bg-gradient-to-r from-red-600 to-red-500 px-4"},Xe={class:"flex items-center gap-3"},Ye=kt({__name:"HomeHeader",setup(t){const e=Ae(),{locale:n}=jt(),i=Ee(),a={zh:"中文",en:"EN",fr:"FR"},s=()=>{const r=(Pt.indexOf(n.value)+1)%Pt.length,l=Pt[r];n.value=l},o=()=>{i.isLogin?e.push("/mine/message"):e.push("/auth/login")};return(c,r)=>(A(),N("header",Qe,[r[0]||(r[0]=S("div",{class:"flex items-center gap-2"},[S("img",{src:Be,alt:"Logo",class:"h-8 w-8 rounded-lg"}),S("span",{class:"font-bold text-white"},"顶峰28")],-1)),S("div",Xe,[S("button",{onClick:s,class:"flex items-center gap-1 rounded-full bg-white/20 px-2 py-1 text-xs text-white"},[bt(Q(He),{class:"h-3.5 w-3.5"}),S("span",null,dt(a[Q(n)]),1)]),S("button",{onClick:o,class:"relative text-white"},[bt(Q(ue),{class:"h-5 w-5"})])])]))}});function Ze(t){return Object.prototype.toString.call(t)==="[object Object]"}function se(t){return Ze(t)||Array.isArray(t)}function We(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function $t(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==s?!1:n.every(o=>{const c=t[o],r=e[o];return typeof c=="function"?`${c}`==`${r}`:!se(c)||!se(r)?c===r:$t(c,r)})}function re(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function tn(t,e){if(t.length!==e.length)return!1;const n=re(t),i=re(e);return n.every((a,s)=>{const o=i[s];return $t(a,o)})}function Vt(t){return typeof t=="number"}function zt(t){return typeof t=="string"}function Ot(t){return typeof t=="boolean"}function ie(t){return Object.prototype.toString.call(t)==="[object Object]"}function C(t){return Math.abs(t)}function Rt(t){return Math.sign(t)}function vt(t,e){return C(t-e)}function en(t,e){if(t===0||e===0||C(t)<=C(e))return 0;const n=vt(C(t),C(e));return C(n/t)}function nn(t){return Math.round(t*100)/100}function St(t){return wt(t).map(Number)}function X(t){return t[Lt(t)]}function Lt(t){return Math.max(0,t.length-1)}function Ht(t,e){return e===Lt(t)}function ce(t,e=0){return Array.from(Array(t),(n,i)=>e+i)}function wt(t){return Object.keys(t)}function fe(t,e){return[t,e].reduce((n,i)=>(wt(i).forEach(a=>{const s=n[a],o=i[a],c=ie(s)&&ie(o);n[a]=c?fe(s,o):o}),n),{})}function Bt(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function on(t,e){const n={start:i,center:a,end:s};function i(){return 0}function a(r){return s(r)/2}function s(r){return e-r}function o(r,l){return zt(t)?n[t](r):t(e,r,l)}return{measure:o}}function _t(){let t=[];function e(a,s,o,c={passive:!0}){let r;if("addEventListener"in a)a.addEventListener(s,o,c),r=()=>a.removeEventListener(s,o,c);else{const l=a;l.addListener(o),r=()=>l.removeListener(o)}return t.push(r),i}function n(){t=t.filter(a=>a())}const i={add:e,clear:n};return i}function sn(t,e,n,i){const a=_t(),s=1e3/60;let o=null,c=0,r=0;function l(){a.add(t,"visibilitychange",()=>{t.hidden&&u()})}function h(){y(),a.clear()}function m(d){if(!r)return;o||(o=d,n(),n());const f=d-o;for(o=d,c+=f;c>=s;)n(),c-=s;const b=c/s;i(b),r&&(r=e.requestAnimationFrame(m))}function g(){r||(r=e.requestAnimationFrame(m))}function y(){e.cancelAnimationFrame(r),o=null,c=0,r=0}function u(){o=null,c=0}return{init:l,destroy:h,start:g,stop:y,update:n,render:i}}function rn(t,e){const n=e==="rtl",i=t==="y",a=i?"y":"x",s=i?"x":"y",o=!i&&n?-1:1,c=h(),r=m();function l(u){const{height:p,width:d}=u;return i?p:d}function h(){return i?"top":n?"right":"left"}function m(){return i?"bottom":n?"left":"right"}function g(u){return u*o}return{scroll:a,cross:s,startEdge:c,endEdge:r,measureSize:l,direction:g}}function at(t=0,e=0){const n=C(t-e);function i(l){return l<t}function a(l){return l>e}function s(l){return i(l)||a(l)}function o(l){return s(l)?i(l)?t:e:l}function c(l){return n?l-n*Math.ceil((l-e)/n):l}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:a,reachedMin:i,removeOffset:c}}function de(t,e,n){const{constrain:i}=at(0,t),a=t+1;let s=o(e);function o(g){return n?C((a+g)%a):i(g)}function c(){return s}function r(g){return s=o(g),m}function l(g){return h().set(c()+g)}function h(){return de(t,c(),n)}const m={get:c,set:r,add:l,clone:h};return m}function cn(t,e,n,i,a,s,o,c,r,l,h,m,g,y,u,p,d,f,b){const{cross:v,direction:L}=t,O=["INPUT","SELECT","TEXTAREA"],I={passive:!1},w=_t(),_=_t(),E=at(50,225).constrain(y.measure(20)),P={mouse:300,touch:400},k={mouse:500,touch:600},z=u?43:25;let q=!1,T=0,B=0,R=!1,H=!1,K=!1,J=!1;function Y(x){if(!b)return;function D($){(Ot(b)||b(x,$))&&mt($)}const F=e;w.add(F,"dragstart",$=>$.preventDefault(),I).add(F,"touchmove",()=>{},I).add(F,"touchend",()=>{}).add(F,"touchstart",D).add(F,"mousedown",D).add(F,"touchcancel",j).add(F,"contextmenu",j).add(F,"click",nt,!0)}function G(){w.clear(),_.clear()}function W(){const x=J?n:e;_.add(x,"touchmove",V,I).add(x,"touchend",j).add(x,"mousemove",V,I).add(x,"mouseup",j)}function tt(x){const D=x.nodeName||"";return O.includes(D)}function et(){return(u?k:P)[J?"mouse":"touch"]}function pt(x,D){const F=m.add(Rt(x)*-1),$=h.byDistance(x,!u).distance;return u||C(x)<E?$:d&&D?$*.5:h.byIndex(F.get(),0).distance}function mt(x){const D=Bt(x,i);J=D,K=u&&D&&!x.buttons&&q,q=vt(a.get(),o.get())>=2,!(D&&x.button!==0)&&(tt(x.target)||(R=!0,s.pointerDown(x),l.useFriction(0).useDuration(0),a.set(o),W(),T=s.readPoint(x),B=s.readPoint(x,v),g.emit("pointerDown")))}function V(x){if(!Bt(x,i)&&x.touches.length>=2)return j(x);const F=s.readPoint(x),$=s.readPoint(x,v),Z=vt(F,T),ot=vt($,B);if(!H&&!J&&(!x.cancelable||(H=Z>ot,!H)))return j(x);const it=s.pointerMove(x);Z>p&&(K=!0),l.useFriction(.3).useDuration(.75),c.start(),a.add(L(it)),x.preventDefault()}function j(x){const F=h.byDistance(0,!1).index!==m.get(),$=s.pointerUp(x)*et(),Z=pt(L($),F),ot=en($,Z),it=z-10*ot,st=f+ot/50;H=!1,R=!1,_.clear(),l.useDuration(it).useFriction(st),r.distance(Z,!u),J=!1,g.emit("pointerUp")}function nt(x){K&&(x.stopPropagation(),x.preventDefault(),K=!1)}function U(){return R}return{init:Y,destroy:G,pointerDown:U}}function an(t,e){let i,a;function s(m){return m.timeStamp}function o(m,g){const u=`client${(g||t.scroll)==="x"?"X":"Y"}`;return(Bt(m,e)?m:m.touches[0])[u]}function c(m){return i=m,a=m,o(m)}function r(m){const g=o(m)-o(a),y=s(m)-s(i)>170;return a=m,y&&(i=m),g}function l(m){if(!i||!a)return 0;const g=o(a)-o(i),y=s(m)-s(i),u=s(m)-s(a)>170,p=g/y;return y&&!u&&C(p)>.1?p:0}return{pointerDown:c,pointerMove:r,pointerUp:l,readPoint:o}}function ln(){function t(n){const{offsetTop:i,offsetLeft:a,offsetWidth:s,offsetHeight:o}=n;return{top:i,right:a+s,bottom:i+o,left:a,width:s,height:o}}return{measure:t}}function un(t){function e(i){return t*(i/100)}return{measure:e}}function fn(t,e,n,i,a,s,o){const c=[t].concat(i);let r,l,h=[],m=!1;function g(d){return a.measureSize(o.measure(d))}function y(d){if(!s)return;l=g(t),h=i.map(g);function f(b){for(const v of b){if(m)return;const L=v.target===t,O=i.indexOf(v.target),I=L?l:h[O],w=g(L?t:i[O]);if(C(w-I)>=.5){d.reInit(),e.emit("resize");break}}}r=new ResizeObserver(b=>{(Ot(s)||s(d,b))&&f(b)}),n.requestAnimationFrame(()=>{c.forEach(b=>r.observe(b))})}function u(){m=!0,r&&r.disconnect()}return{init:y,destroy:u}}function dn(t,e,n,i,a,s){let o=0,c=0,r=a,l=s,h=t.get(),m=0;function g(){const I=i.get()-t.get(),w=!r;let _=0;return w?(o=0,n.set(i),t.set(i),_=I):(n.set(t),o+=I/r,o*=l,h+=o,t.add(o),_=h-m),c=Rt(_),m=h,O}function y(){const I=i.get()-e.get();return C(I)<.001}function u(){return r}function p(){return c}function d(){return o}function f(){return v(a)}function b(){return L(s)}function v(I){return r=I,O}function L(I){return l=I,O}const O={direction:p,duration:u,velocity:d,seek:g,settled:y,useBaseFriction:b,useBaseDuration:f,useFriction:L,useDuration:v};return O}function pn(t,e,n,i,a){const s=a.measure(10),o=a.measure(50),c=at(.1,.99);let r=!1;function l(){return!(r||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function h(y){if(!l())return;const u=t.reachedMin(e.get())?"min":"max",p=C(t[u]-e.get()),d=n.get()-e.get(),f=c.constrain(p/o);n.subtract(d*f),!y&&C(d)<s&&(n.set(t.constrain(n.get())),i.useDuration(25).useBaseFriction())}function m(y){r=!y}return{shouldConstrain:l,constrain:h,toggleActive:m}}function mn(t,e,n,i,a){const s=at(-e+t,0),o=m(),c=h(),r=g();function l(u,p){return vt(u,p)<=1}function h(){const u=o[0],p=X(o),d=o.lastIndexOf(u),f=o.indexOf(p)+1;return at(d,f)}function m(){return n.map((u,p)=>{const{min:d,max:f}=s,b=s.constrain(u),v=!p,L=Ht(n,p);return v?f:L||l(d,b)?d:l(f,b)?f:b}).map(u=>parseFloat(u.toFixed(3)))}function g(){if(e<=t+a)return[s.max];if(i==="keepSnaps")return o;const{min:u,max:p}=c;return o.slice(u,p)}return{snapsContained:r,scrollContainLimit:c}}function gn(t,e,n){const i=e[0],a=n?i-t:X(e);return{limit:at(a,i)}}function hn(t,e,n,i){const s=e.min+.1,o=e.max+.1,{reachedMin:c,reachedMax:r}=at(s,o);function l(g){return g===1?r(n.get()):g===-1?c(n.get()):!1}function h(g){if(!l(g))return;const y=t*(g*-1);i.forEach(u=>u.add(y))}return{loop:h}}function bn(t){const{max:e,length:n}=t;function i(s){const o=s-e;return n?o/-n:0}return{get:i}}function yn(t,e,n,i,a){const{startEdge:s,endEdge:o}=t,{groupSlides:c}=a,r=m().map(e.measure),l=g(),h=y();function m(){return c(i).map(p=>X(p)[o]-p[0][s]).map(C)}function g(){return i.map(p=>n[s]-p[s]).map(p=>-C(p))}function y(){return c(l).map(p=>p[0]).map((p,d)=>p+r[d])}return{snaps:l,snapsAligned:h}}function xn(t,e,n,i,a,s){const{groupSlides:o}=a,{min:c,max:r}=i,l=h();function h(){const g=o(s),y=!t||e==="keepSnaps";return n.length===1?[s]:y?g:g.slice(c,r).map((u,p,d)=>{const f=!p,b=Ht(d,p);if(f){const v=X(d[0])+1;return ce(v)}if(b){const v=Lt(s)-X(d)[0]+1;return ce(v,X(d)[0])}return u})}return{slideRegistry:l}}function vn(t,e,n,i,a){const{reachedAny:s,removeOffset:o,constrain:c}=i;function r(u){return u.concat().sort((p,d)=>C(p)-C(d))[0]}function l(u){const p=t?o(u):c(u),d=e.map((b,v)=>({diff:h(b-p,0),index:v})).sort((b,v)=>C(b.diff)-C(v.diff)),{index:f}=d[0];return{index:f,distance:p}}function h(u,p){const d=[u,u+n,u-n];if(!t)return u;if(!p)return r(d);const f=d.filter(b=>Rt(b)===p);return f.length?r(f):X(d)-n}function m(u,p){const d=e[u]-a.get(),f=h(d,p);return{index:u,distance:f}}function g(u,p){const d=a.get()+u,{index:f,distance:b}=l(d),v=!t&&s(d);if(!p||v)return{index:f,distance:u};const L=e[f]-b,O=u+h(L,0);return{index:f,distance:O}}return{byDistance:g,byIndex:m,shortcut:h}}function Sn(t,e,n,i,a,s,o){function c(m){const g=m.distance,y=m.index!==e.get();s.add(g),g&&(i.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(m.index),o.emit("select"))}function r(m,g){const y=a.byDistance(m,g);c(y)}function l(m,g){const y=e.clone().set(m),u=a.byIndex(y.get(),g);c(u)}return{distance:r,index:l}}function wn(t,e,n,i,a,s,o,c){const r={passive:!0,capture:!0};let l=0;function h(y){if(!c)return;function u(p){if(new Date().getTime()-l>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const b=n.findIndex(v=>v.includes(p));Vt(b)&&(a.useDuration(0),i.index(b,0),o.emit("slideFocus"))}s.add(document,"keydown",m,!1),e.forEach((p,d)=>{s.add(p,"focus",f=>{(Ot(c)||c(y,f))&&u(d)},r)})}function m(y){y.code==="Tab"&&(l=new Date().getTime())}return{init:h}}function ht(t){let e=t;function n(){return e}function i(r){e=o(r)}function a(r){e+=o(r)}function s(r){e-=o(r)}function o(r){return Vt(r)?r:r.get()}return{get:n,set:i,add:a,subtract:s}}function pe(t,e){const n=t.scroll==="x"?o:c,i=e.style;let a=null,s=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function c(g){return`translate3d(0px,${g}px,0px)`}function r(g){if(s)return;const y=nn(t.direction(g));y!==a&&(i.transform=n(y),a=y)}function l(g){s=!g}function h(){s||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:h,to:r,toggleActive:l}}function _n(t,e,n,i,a,s,o,c,r){const h=St(a),m=St(a).reverse(),g=f().concat(b());function y(w,_){return w.reduce((E,P)=>E-a[P],_)}function u(w,_){return w.reduce((E,P)=>y(E,_)>0?E.concat([P]):E,[])}function p(w){return s.map((_,E)=>({start:_-i[E]+.5+w,end:_+e-.5+w}))}function d(w,_,E){const P=p(_);return w.map(k=>{const z=E?0:-n,q=E?n:0,T=E?"end":"start",B=P[k][T];return{index:k,loopPoint:B,slideLocation:ht(-1),translate:pe(t,r[k]),target:()=>c.get()>B?z:q}})}function f(){const w=o[0],_=u(m,w);return d(_,n,!1)}function b(){const w=e-o[0]-1,_=u(h,w);return d(_,-n,!0)}function v(){return g.every(({index:w})=>{const _=h.filter(E=>E!==w);return y(_,e)<=.1})}function L(){g.forEach(w=>{const{target:_,translate:E,slideLocation:P}=w,k=_();k!==P.get()&&(E.to(k),P.set(k))})}function O(){g.forEach(w=>w.translate.clear())}return{canLoop:v,clear:O,loop:L,loopPoints:g}}function Ln(t,e,n){let i,a=!1;function s(r){if(!n)return;function l(h){for(const m of h)if(m.type==="childList"){r.reInit(),e.emit("slidesChanged");break}}i=new MutationObserver(h=>{a||(Ot(n)||n(r,h))&&l(h)}),i.observe(t,{childList:!0})}function o(){i&&i.disconnect(),a=!0}return{init:s,destroy:o}}function In(t,e,n,i){const a={};let s=null,o=null,c,r=!1;function l(){c=new IntersectionObserver(u=>{r||(u.forEach(p=>{const d=e.indexOf(p.target);a[d]=p}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:i}),e.forEach(u=>c.observe(u))}function h(){c&&c.disconnect(),r=!0}function m(u){return wt(a).reduce((p,d)=>{const f=parseInt(d),{isIntersecting:b}=a[f];return(u&&b||!u&&!b)&&p.push(f),p},[])}function g(u=!0){if(u&&s)return s;if(!u&&o)return o;const p=m(u);return u&&(s=p),u||(o=p),p}return{init:l,destroy:h,get:g}}function En(t,e,n,i,a,s){const{measureSize:o,startEdge:c,endEdge:r}=t,l=n[0]&&a,h=u(),m=p(),g=n.map(o),y=d();function u(){if(!l)return 0;const b=n[0];return C(e[c]-b[c])}function p(){if(!l)return 0;const b=s.getComputedStyle(X(i));return parseFloat(b.getPropertyValue(`margin-${r}`))}function d(){return n.map((b,v,L)=>{const O=!v,I=Ht(L,v);return O?g[v]+h:I?g[v]+m:L[v+1][c]-b[c]}).map(C)}return{slideSizes:g,slideSizesWithGaps:y,startGap:h,endGap:m}}function kn(t,e,n,i,a,s,o,c,r){const{startEdge:l,endEdge:h,direction:m}=t,g=Vt(n);function y(f,b){return St(f).filter(v=>v%b===0).map(v=>f.slice(v,v+b))}function u(f){return f.length?St(f).reduce((b,v,L)=>{const O=X(b)||0,I=O===0,w=v===Lt(f),_=a[l]-s[O][l],E=a[l]-s[v][h],P=!i&&I?m(o):0,k=!i&&w?m(c):0,z=C(E-k-(_+P));return L&&z>e+r&&b.push(v),w&&b.push(f.length),b},[]).map((b,v,L)=>{const O=Math.max(L[v-1]||0);return f.slice(O,b)}):[]}function p(f){return g?y(f,n):u(f)}return{groupSlides:p}}function On(t,e,n,i,a,s,o){const{align:c,axis:r,direction:l,startIndex:h,loop:m,duration:g,dragFree:y,dragThreshold:u,inViewThreshold:p,slidesToScroll:d,skipSnaps:f,containScroll:b,watchResize:v,watchSlides:L,watchDrag:O,watchFocus:I}=s,w=2,_=ln(),E=_.measure(e),P=n.map(_.measure),k=rn(r,l),z=k.measureSize(E),q=un(z),T=on(c,z),B=!m&&!!b,R=m||!!b,{slideSizes:H,slideSizesWithGaps:K,startGap:J,endGap:Y}=En(k,E,P,n,R,a),G=kn(k,z,d,m,E,P,J,Y,w),{snaps:W,snapsAligned:tt}=yn(k,T,E,P,G),et=-X(W)+X(K),{snapsContained:pt,scrollContainLimit:mt}=mn(z,et,tt,b,w),V=B?pt:tt,{limit:j}=gn(et,V,m),nt=de(Lt(V),h,m),U=nt.clone(),M=St(n),x=({dragHandler:lt,scrollBody:Mt,scrollBounds:Ct,options:{loop:It}})=>{It||Ct.constrain(lt.pointerDown()),Mt.seek()},D=({scrollBody:lt,translate:Mt,location:Ct,offsetLocation:It,previousLocation:he,scrollLooper:be,slideLooper:ye,dragHandler:xe,animation:ve,eventHandler:Qt,scrollBounds:Se,options:{loop:Xt}},Yt)=>{const Zt=lt.settled(),we=!Se.shouldConstrain(),Wt=Xt?Zt:Zt&&we,te=Wt&&!xe.pointerDown();te&&ve.stop();const _e=Ct.get()*Yt+he.get()*(1-Yt);It.set(_e),Xt&&(be.loop(lt.direction()),ye.loop()),Mt.to(It.get()),te&&Qt.emit("settle"),Wt||Qt.emit("scroll")},F=sn(i,a,()=>x(At),lt=>D(At,lt)),$=.68,Z=V[nt.get()],ot=ht(Z),it=ht(Z),st=ht(Z),ct=ht(Z),gt=dn(ot,st,it,ct,g,$),Tt=vn(m,V,et,j,ct),Dt=Sn(F,nt,U,gt,Tt,ct,o),qt=bn(j),Kt=_t(),me=In(e,n,o,p),{slideRegistry:Jt}=xn(B,b,V,mt,G,M),ge=wn(t,n,Jt,Dt,gt,Kt,o,I),At={ownerDocument:i,ownerWindow:a,eventHandler:o,containerRect:E,slideRects:P,animation:F,axis:k,dragHandler:cn(k,t,i,a,ct,an(k,a),ot,F,Dt,gt,Tt,nt,o,q,y,u,f,$,O),eventStore:Kt,percentOfView:q,index:nt,indexPrevious:U,limit:j,location:ot,offsetLocation:st,previousLocation:it,options:s,resizeHandler:fn(e,o,a,n,k,v,_),scrollBody:gt,scrollBounds:pn(j,st,ct,gt,q),scrollLooper:hn(et,j,st,[ot,st,it,ct]),scrollProgress:qt,scrollSnapList:V.map(qt.get),scrollSnaps:V,scrollTarget:Tt,scrollTo:Dt,slideLooper:_n(k,z,et,H,K,W,V,st,n),slideFocus:ge,slidesHandler:Ln(e,o,L),slidesInView:me,slideIndexes:M,slideRegistry:Jt,slidesToScroll:G,target:ct,translate:pe(k,e)};return At}function Tn(){let t={},e;function n(l){e=l}function i(l){return t[l]||[]}function a(l){return i(l).forEach(h=>h(e,l)),r}function s(l,h){return t[l]=i(l).concat([h]),r}function o(l,h){return t[l]=i(l).filter(m=>m!==h),r}function c(){t={}}const r={init:n,emit:a,off:o,on:s,clear:c};return r}const Dn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function An(t){function e(s,o){return fe(s,o||{})}function n(s){const o=s.breakpoints||{},c=wt(o).filter(r=>t.matchMedia(r).matches).map(r=>o[r]).reduce((r,l)=>e(r,l),{});return e(s,c)}function i(s){return s.map(o=>wt(o.breakpoints||{})).reduce((o,c)=>o.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:i}}function Mn(t){let e=[];function n(s,o){return e=o.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(s,t)),o.reduce((c,r)=>Object.assign(c,{[r.name]:r}),{})}function i(){e=e.filter(s=>s.destroy())}return{init:n,destroy:i}}function Et(t,e,n){const i=t.ownerDocument,a=i.defaultView,s=An(a),o=Mn(s),c=_t(),r=Tn(),{mergeOptions:l,optionsAtMedia:h,optionsMediaQueries:m}=s,{on:g,off:y,emit:u}=r,p=k;let d=!1,f,b=l(Dn,Et.globalOptions),v=l(b),L=[],O,I,w;function _(){const{container:M,slides:x}=v;I=(zt(M)?t.querySelector(M):M)||t.children[0];const F=zt(x)?I.querySelectorAll(x):x;w=[].slice.call(F||I.children)}function E(M){const x=On(t,I,w,i,a,M,r);if(M.loop&&!x.slideLooper.canLoop()){const D=Object.assign({},M,{loop:!1});return E(D)}return x}function P(M,x){d||(b=l(b,M),v=h(b),L=x||L,_(),f=E(v),m([b,...L.map(({options:D})=>D)]).forEach(D=>c.add(D,"change",k)),v.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(U),f.eventHandler.init(U),f.resizeHandler.init(U),f.slidesHandler.init(U),f.options.loop&&f.slideLooper.loop(),I.offsetParent&&w.length&&f.dragHandler.init(U),O=o.init(U,L)))}function k(M,x){const D=G();z(),P(l({startIndex:D},M),x),r.emit("reInit")}function z(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),c.clear()}function q(){d||(d=!0,c.clear(),z(),r.emit("destroy"),r.clear())}function T(M,x,D){!v.active||d||(f.scrollBody.useBaseFriction().useDuration(x===!0?0:v.duration),f.scrollTo.index(M,D||0))}function B(M){const x=f.index.add(1).get();T(x,M,-1)}function R(M){const x=f.index.add(-1).get();T(x,M,1)}function H(){return f.index.add(1).get()!==G()}function K(){return f.index.add(-1).get()!==G()}function J(){return f.scrollSnapList}function Y(){return f.scrollProgress.get(f.offsetLocation.get())}function G(){return f.index.get()}function W(){return f.indexPrevious.get()}function tt(){return f.slidesInView.get()}function et(){return f.slidesInView.get(!1)}function pt(){return O}function mt(){return f}function V(){return t}function j(){return I}function nt(){return w}const U={canScrollNext:H,canScrollPrev:K,containerNode:j,internalEngine:mt,destroy:q,off:y,on:g,emit:u,plugins:pt,previousScrollSnap:W,reInit:p,rootNode:V,scrollNext:B,scrollPrev:R,scrollProgress:Y,scrollSnapList:J,scrollTo:T,selectedScrollSnap:G,slideNodes:nt,slidesInView:tt,slidesNotInView:et};return P(e,n),setTimeout(()=>r.emit("init"),0),U}Et.globalOptions=void 0;function Gt(t={},e=[]){const n=oe(t),i=oe(e);let a=n?t.value:t,s=i?e.value:e;const o=ee(),c=ee();function r(){c.value&&c.value.reInit(a,s)}return le(()=>{!We()||!o.value||(Et.globalOptions=Gt.globalOptions,c.value=Et(o.value,a,s))}),Me(()=>{c.value&&c.value.destroy()}),n&&ne(t,l=>{$t(a,l)||(a=l,r())}),i&&ne(e,l=>{tn(s,l)||(s=l,r())}),[o,c]}Gt.globalOptions=void 0;const Cn={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Pn(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function Fn(t,e){const n=t.rootNode();return e&&e(n)||n}function Ut(t={}){let e,n,i,a,s=null,o=0,c=!1,r=!1,l=!1,h=!1;function m(T,B){n=T;const{mergeOptions:R,optionsAtMedia:H}=B,K=R(Cn,Ut.globalOptions),J=R(K,t);if(e=H(J),n.scrollSnapList().length<=1)return;h=e.jump,i=!1,a=Pn(n,e.delay);const{eventStore:Y,ownerDocument:G}=n.internalEngine(),W=!!n.internalEngine().options.watchDrag,tt=Fn(n,e.rootNode);Y.add(G,"visibilitychange",f),W&&n.on("pointerDown",v),W&&!e.stopOnInteraction&&n.on("pointerUp",L),e.stopOnMouseEnter&&Y.add(tt,"mouseenter",O),e.stopOnMouseEnter&&!e.stopOnInteraction&&Y.add(tt,"mouseleave",I),e.stopOnFocusIn&&n.on("slideFocusStart",d),e.stopOnFocusIn&&!e.stopOnInteraction&&Y.add(n.containerNode(),"focusout",p),e.playOnInit&&p()}function g(){n.off("pointerDown",v).off("pointerUp",L).off("slideFocusStart",d),d(),i=!0,c=!1}function y(){const{ownerWindow:T}=n.internalEngine();T.clearTimeout(o),o=T.setTimeout(k,a[n.selectedScrollSnap()]),s=new Date().getTime(),n.emit("autoplay:timerset")}function u(){const{ownerWindow:T}=n.internalEngine();T.clearTimeout(o),o=0,s=null,n.emit("autoplay:timerstopped")}function p(){if(!i){if(b()){l=!0;return}c||n.emit("autoplay:play"),y(),c=!0}}function d(){i||(c&&n.emit("autoplay:stop"),u(),c=!1)}function f(){if(b())return l=c,d();l&&p()}function b(){const{ownerDocument:T}=n.internalEngine();return T.visibilityState==="hidden"}function v(){r||d()}function L(){r||p()}function O(){r=!0,d()}function I(){r=!1,p()}function w(T){typeof T<"u"&&(h=T),p()}function _(){c&&d()}function E(){c&&p()}function P(){return c}function k(){const{index:T}=n.internalEngine(),B=T.clone().add(1).get(),R=n.scrollSnapList().length-1,H=e.stopOnLastSnap&&B===R;if(n.canScrollNext()?n.scrollNext(h):n.scrollTo(0,h),n.emit("autoplay:select"),H)return d();p()}function z(){if(!s)return null;const T=a[n.selectedScrollSnap()],B=new Date().getTime()-s;return T-B}return{name:"autoplay",options:t,init:m,destroy:g,play:w,stop:_,reset:E,isPlaying:P,timeUntilNext:z}}Ut.globalOptions=void 0;const Nn={key:0,class:"relative"},zn={class:"flex"},Bn=["src","alt"],jn={key:0,class:"absolute bottom-2 left-1/2 flex -translate-x-1/2 gap-1.5"},$n={key:1,class:"flex h-40 items-center justify-center bg-gradient-to-r from-red-500 to-red-600"},Vn=kt({__name:"BannerCarousel",props:{banners:{},imageBaseUrl:{default:""}},setup(t){const e=t,{localize:n}=ae(),[i]=Gt({loop:!0},[Ut({delay:3e3,stopOnInteraction:!1})]),a=rt(0),s=o=>o?o.startsWith("http")?o:`${e.imageBaseUrl}${o}`:"";return(o,c)=>t.banners.length>0?(A(),N("div",Nn,[S("div",{ref_key:"emblaRef",ref:i,class:"overflow-hidden"},[S("div",zn,[(A(!0),N(yt,null,xt(t.banners,(r,l)=>(A(),N("div",{key:r.id||l,class:"relative min-w-0 flex-[0_0_100%]"},[S("img",{src:s(r.pic||""),alt:Q(n)(r.lang_title,r.title),class:"h-40 w-full object-cover",onError:c[0]||(c[0]=h=>h.target.style.display="none")},null,40,Bn)]))),128))])],512),t.banners.length>1?(A(),N("div",jn,[(A(!0),N(yt,null,xt(t.banners,(r,l)=>(A(),N("span",{key:l,class:ft(["h-1.5 w-1.5 rounded-full transition-colors",l===a.value?"bg-white":"bg-white/50"])},null,2))),128))])):Nt("",!0)])):(A(),N("div",$n,[...c[1]||(c[1]=[S("span",{class:"text-lg font-bold text-white"},"顶峰28",-1)])]))}}),Rn={class:"flex min-h-screen justify-center bg-[#eef3f8]"},Hn={class:"w-full max-w-xl bg-[#f5f7fb] shadow-sm"},Gn={key:1,class:"px-3 pb-20 pt-3"},Un={class:"grid grid-cols-4 gap-2 mb-3"},qn={class:"mt-1 text-[12px] text-gray-700"},Kn={class:"mb-2 flex items-center justify-between text-[13px]"},Jn={class:"flex items-center gap-2"},Qn={class:"text-black font-bold"},Xn={class:"mb-4 grid grid-cols-3 gap-2"},Yn=["src","alt"],Zn={key:1,class:"col-span-3 text-center py-4 text-gray-400 text-sm"},Wn={class:"mb-2 flex items-center justify-between text-[13px]"},to={class:"flex items-center gap-2"},eo={class:"text-black font-bold"},no={class:"mb-4 grid grid-cols-3 gap-2"},oo=["src","alt"],so={key:1,class:"col-span-3 text-center py-4 text-gray-400 text-sm"},ro={key:0,class:"space-y-3"},io=["href"],co=["href"],ao={key:1,class:"space-y-3"},lo={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},uo={class:"bg-white rounded-2xl max-w-sm w-full max-h-[70vh] overflow-hidden shadow-2xl"},fo={class:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-red-500 to-red-600"},po={class:"font-bold text-white text-lg"},mo={class:"p-4 overflow-y-auto max-h-[50vh]"},go=["innerHTML"],ho={class:"p-4 border-t bg-gray-50"},Oo=kt({__name:"index",setup(t){const{t:e}=jt(),{localize:n}=ae(),i="https://img.kaixin28.com",a=rt(!0),s=rt(!0),o=rt([]),c=rt(null),r=rt(null),l=rt(!1),h=rt(null),m=Ce(()=>[{name:e("home.announcement"),icon:ue,color:"bg-[#ffb84d]",href:"/index/announce"},{name:e("home.events"),icon:Ve,color:"bg-[#b47cff]",href:"/index/activities"},{name:e("home.rewards"),icon:$e,color:"bg-[#ff6b6b]",href:"/mine/relief"},{name:e("home.partners"),icon:Re,color:"bg-[#4ec5ff]",href:"/index/partners"}]),g=async()=>{try{a.value=!0,s.value=!0;const[y,u,p]=await Promise.all([ke(),Oe({hot_count:6,new_count:3}),Te()]);y.code===200&&(o.value=y.data||[]),u.code===200&&(c.value=u.data),p.code===200&&p.data&&(h.value=p.data),s.value=!1;const d=await De();if(d.code===200&&d.data?.length>0){const f=d.data[0];r.value=f;const b=`home_popup_${f.id}`;sessionStorage.getItem(b)||(l.value=!0,sessionStorage.setItem(b,"true"))}}catch(y){console.error("加载首页数据失败:",y)}finally{a.value=!1}};return le(()=>{g()}),(y,u)=>{const p=Fe("router-link");return A(),N("div",Rn,[S("div",Hn,[bt(Ye),a.value?(A(),ut(Je,{key:0})):(A(),N("main",Gn,[bt(Vn,{banners:o.value,"image-base-url":Q(i),class:"mb-3"},null,8,["banners","image-base-url"]),S("section",Un,[(A(!0),N(yt,null,xt(m.value,(d,f)=>(A(),ut(p,{key:d.href,to:d.href,class:"flex flex-col items-center justify-center text-[13px] relative transform transition-transform duration-200 hover:scale-105 active:scale-95",style:ze({animationDelay:`${f*50}ms`})},{default:Ft(()=>[S("div",{class:ft(["flex h-11 w-11 items-center justify-center rounded-lg text-xl text-white shadow-md relative transition-shadow hover:shadow-lg",d.color])},[(A(),ut(Ne(d.icon),{class:"h-5 w-5"}))],2),S("span",qn,dt(d.name),1)]),_:2},1032,["to","style"]))),128))]),S("section",Kn,[S("div",Jn,[u[2]||(u[2]=S("span",{class:"w-1 h-4 bg-red-500 rounded-full"},null,-1)),S("span",Qn,dt(Q(e)("home.hot-games")),1)])]),S("section",Xn,[c.value?.hot&&c.value.hot.length>0?(A(!0),N(yt,{key:0},xt(c.value.hot,(d,f)=>(A(),ut(p,{key:"hot-games"+f,to:`/games?lottery_id=${d.id}`,class:"block transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 rounded-md overflow-hidden"},{default:Ft(()=>[S("img",{src:d.logo||"",alt:d.name||"",class:"w-full rounded-md"},null,8,Yn)]),_:2},1032,["to"]))),128)):(A(),N("div",Zn," 暂无热门游戏 "))]),S("section",Wn,[S("div",to,[u[3]||(u[3]=S("span",{class:"w-1 h-4 bg-blue-500 rounded-full"},null,-1)),S("span",eo,dt(Q(e)("home.new-games")),1)])]),S("section",no,[c.value?.new&&c.value.new.length>0?(A(!0),N(yt,{key:0},xt(c.value.new,(d,f)=>(A(),ut(p,{key:"new-games"+f,to:`/games?lottery_id=${d.id}`,class:"block transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 rounded-md overflow-hidden"},{default:Ft(()=>[S("img",{src:d.logo||"",alt:d.name||"",class:"w-full rounded-md"},null,8,oo)]),_:2},1032,["to"]))),128)):(A(),N("div",so," 暂无最新游戏 "))]),!s.value&&h.value?(A(),N("section",ro,[S("a",{href:h.value.pc_url,class:"block"},[...u[4]||(u[4]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," 电脑版 ",-1)])],8,io),S("a",{href:h.value.customer_link,class:"block"},[...u[5]||(u[5]=[S("button",{class:"flex h-11 w-full items-center justify-center rounded-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-[14px] font-medium text-white shadow-md hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," 联系客服 ",-1)])],8,co)])):s.value?(A(),N("section",ao,[...u[6]||(u[6]=[S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1),S("div",{class:"h-11 w-full rounded-full bg-gray-200 animate-pulse"},null,-1)])])):Nt("",!0)])),(A(),ut(Pe,{to:"body"},[l.value&&r.value?(A(),N("div",lo,[S("div",uo,[S("div",fo,[S("h3",po,dt(Q(n)(r.value.lang_title,r.value.title)),1),S("button",{onClick:u[0]||(u[0]=d=>l.value=!1),class:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/20 transition-colors"},[bt(Q(je),{class:"h-5 w-5"})])]),S("div",mo,[S("div",{class:"text-sm text-gray-600 leading-relaxed",innerHTML:Q(n)(r.value.lang_content,r.value.content)},null,8,go)]),S("div",ho,[S("button",{onClick:u[1]||(u[1]=d=>l.value=!1),class:"w-full bg-gradient-to-r from-[#ff3a00] to-[#ff6b35] text-white rounded-full py-3 text-sm font-bold hover:shadow-lg transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]"}," 我知道了 ")])])])):Nt("",!0)]))])])}}});export{Oo as default};
